<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¿«æ„æ±Ÿæ¹– - é‡‘åº¸é£æ ¼æ€§æ ¼æµ‹è¯•</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- å…¨å±€å˜é‡ --- */
        :root {
            --rice-paper: #fdfbf2;
            --ink-text: #2c3e50;
            --bright-gold: #d4af37;
            --peach-pink: #ffb7c5;
            --wind-x: 0px;
            --rice-texture: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3E%3Cfilter id='a'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.05' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='matrix' values='1 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0.1 0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23a)' opacity='0.4'/%3E%3C/svg%3E");
        }

        body {
            font-family: 'Noto Serif SC', serif;
            background-color: var(--rice-paper);
            color: var(--ink-text);
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        body::before {
            content: ''; position: fixed; inset: 0;
            background-image: var(--rice-texture);
            pointer-events: none; z-index: 1; mix-blend-mode: multiply;
        }

        .font-wuxia { font-family: 'Ma Shan Zheng', cursive; }

        /* --- èƒŒæ™¯ä¸åŠ¨æ•ˆ (ç•¥) --- */
        .bg-jianghu-light {
            position: fixed; inset: 0; z-index: 0;
            background: 
                linear-gradient(to bottom, rgba(167, 215, 232, 0.3) 0%, rgba(253, 251, 242, 0.8) 60%),
                radial-gradient(circle at 80% 10%, rgba(255,255,255,0.8) 0%, transparent 40%),
                linear-gradient(135deg, transparent 0%, rgba(127, 176, 105, 0.1) 100%);
        }
        
        @keyframes floatDown {
            0% { transform: translate(var(--start-x), -10vh) rotate(0deg); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translate(var(--end-x), 120vh) rotate(720deg); opacity: 0; }
        }

        /* --- ç»„ä»¶æ ·å¼ (ç•¥) --- */
        .glass-panel-light {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(25px) saturate(120%);
            -webkit-backdrop-filter: blur(25px) saturate(120%);
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 20px 40px -10px rgba(212, 175, 55, 0.2), inset 0 0 20px rgba(255, 255, 255, 0.9);
            position: relative; overflow: visible;
        }
        
        .btn-wuxia-light {
            background: linear-gradient(to bottom right, #ffffff, #f8fafc);
            border: 1px solid rgba(212, 175, 55, 0.3);
            transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
        }
        .btn-wuxia-light:active { transform: scale(0.98); }
        .btn-wuxia-light:hover {
            transform: translateY(-2px) scale(1.01);
            border-color: var(--bright-gold);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.25);
        }

        .text-gradient-wuxia {
            background: linear-gradient(to bottom, #b45309 0%, #d97706 40%, #f59e0b 60%, #78350f 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(245, 158, 11, 0.3));
        }

        @keyframes swing {
            0% { transform: rotate(0deg); } 25% { transform: rotate(15deg); }
            50% { transform: rotate(-10deg); } 75% { transform: rotate(5deg); } 100% { transform: rotate(0deg); }
        }
        .group:hover .tassel-swing { animation: swing 1s ease-in-out infinite; transform-origin: top center; }

        @media (max-width: 480px) {
            body { font-size: 15px; }
            .glass-panel-light { padding: 1.75rem !important; border-radius: 1.5rem; }
            .btn-wuxia-light { padding: 1.1rem !important; }
            .writing-vertical-rl {
                writing-mode: horizontal-tb;
                border-left: 0;
                border-top: 2px solid rgba(212, 175, 55, 0.2);
                padding-top: 0.5rem;
                width: 100%;
            }
            .quiz-option-grid { flex-direction: column; }
            .quiz-option-grid > div { min-height: auto; }
            .tooltip-floating {
                position: static;
                transform: none !important;
                width: 100%;
                margin-top: 0.75rem;
            }
            h1, h2, h3 { line-height: 1.2; }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div class="bg-jianghu-light"></div>
    <div class="falling-petals" id="petals-container"></div>
    <div id="root" class="w-full max-w-xl z-10 px-4 py-4 md:py-8 relative"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = Motion;

        // --- Web Audio API éŸ³æ•ˆå¼•æ“ (å·²ä¼˜åŒ– gong éŸ³æ•ˆ) ---
        const SoundEngine = {
            ctx: null,
            init: function() {
                if (!this.ctx) {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    this.ctx = new AudioContext();
                }
                if (this.ctx.state === 'suspended') {
                    this.ctx.resume();
                }
            },
            play: function(type) {
                if (!this.ctx) this.init();
                const t = this.ctx.currentTime;
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.connect(gain);
                gain.connect(this.ctx.destination);

                if (type === 'sword') { // å‰‘é¸£/å‡ºé˜ï¼šé”åˆ©ä¸‰è§’æ³¢ï¼Œå¿«é€Ÿæ‰«é¢‘
                    osc.type = 'triangle'; 
                    osc.frequency.setValueAtTime(1000, t);
                    osc.frequency.exponentialRampToValueAtTime(1500, t + 0.05); 
                    osc.frequency.exponentialRampToValueAtTime(600, t + 0.2);
                    gain.gain.setValueAtTime(0.15, t);
                    gain.gain.exponentialRampToValueAtTime(0.01, t + 0.2); 
                    osc.start(t);
                    osc.stop(t + 0.2);
                } else if (type === 'tap') { // é€‰é¡¹ç‚¹å‡»ï¼šæ¸…è„†æ–¹æ³¢ï¼ŒæçŸ­æ—¶å€¼
                    osc.type = 'square'; 
                    osc.frequency.setValueAtTime(800, t);
                    gain.gain.setValueAtTime(0.2, t);
                    gain.gain.exponentialRampToValueAtTime(0.01, t + 0.08); 
                    osc.start(t);
                    osc.stop(t + 0.08);
                } else if (type === 'gong') { 
                    // --- ä¼˜åŒ–ä¸ºï¼šæ¬¢å¿«èƒœåˆ©é’Ÿå£°/æ¸…è„†å…‰æ³½ (Cheerful Chime) ---
                    
                    // 1. ä¸»éŸ³è‰² (Main Tone): æ›´é«˜çš„åŸºé¢‘ 
                    osc.type = 'sine'; 
                    osc.frequency.setValueAtTime(500, t); 
                    osc.frequency.exponentialRampToValueAtTime(550, t + 0.1); 
                    
                    // 2. å¢åŠ é«˜é¢‘å…‰æ³½ (Shimmering Harmonic): ç”¨äºå¢å¼ºæ¬¢å¿«æ„Ÿ
                    const osc2 = this.ctx.createOscillator();
                    const gain2 = this.ctx.createGain();
                    osc2.type = 'sine';
                    osc2.frequency.setValueAtTime(1000, t); // é«˜å…«åº¦æˆ–äº”åº¦
                    osc2.connect(gain2);
                    gain2.connect(this.ctx.destination);
                    gain2.gain.setValueAtTime(0.2, t); // è¾ƒå°éŸ³é‡
                    gain2.gain.exponentialRampToValueAtTime(0.001, t + 0.5); // å¿«é€Ÿè¡°å‡
                    osc2.start(t);
                    osc2.stop(t + 0.5);

                    // 3. ä¸»éŸ³é‡å’Œè¡°å‡: è¾ƒé•¿çš„æ··å“ (1.5s)
                    gain.gain.setValueAtTime(0.5, t); 
                    gain.gain.exponentialRampToValueAtTime(0.01, t + 1.5); 
                    
                    osc.start(t);
                    osc.stop(t + 1.5);
                }
            }
        };

        const SectBadge = ({ type, className }) => {
            const badges = {
                'fire': <path d="M12 2C8 4 6 8 6 12c0 5 4 9 9 9s9-4 9-9c0-4-2-8-6-10-1 3-3 4-5 4s-4-1-5-4z M12 6c1 2 3 3 4 3s3-1 4-3c0 3-2 5-4 5s-4-2-4-5z" />,
                'sword': <path d="M7 2l10 18h-3l-2-5-2 5H7l10-18M5 22h14" />,
                'lotus': <path d="M12 2L9 9l-7 3 7 3 3 7 3-7 7-3-7-3z" />,
                'bottle': <path d="M9 2h6v4h-6zM6 7h12c1 0 2 1 2 2v10c0 2-2 3-4 3H8c-2 0-4-1-4-3V9c0-1 1-2 2-2z" />,
                'yin': <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-4.41 3.59-8 8-8s8 3.59 8 8-3.59 8-8 8z"/>
            };
            return <svg viewBox="0 0 24 24" className={`w-full h-full ${className}`} fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">{badges[type] || badges['lotus']}</svg>;
        };

        const cpDatabase = {
            'zhaomin': { name: 'èµµæ•', title: 'ç»æ•éƒ¡ä¸»', quote: 'â€œæˆ‘åè¦å‹‰å¼ºã€‚â€', desc: 'å®¿å‘½å†¤å®¶ï¼Œæè‡´äº’è¡¥ã€‚' },
            'zhangwuji': { name: 'å¼ æ— å¿Œ', title: 'æ˜æ•™æ•™ä¸»', quote: 'â€œå°æ˜­ã€è››å„¿...ä½†æˆ‘å¿ƒä¸­åªæœ‰ä½ ã€‚â€', desc: 'ä»–çš„ä¼˜æŸ”å¯¡æ–­éœ€ä½ çš„æœæ•¢æ¥æ²»æ„ˆã€‚' },
            'renyingying': { name: 'ä»»ç›ˆç›ˆ', title: 'åœ£å§‘', quote: 'â€œç´ç‘Ÿå’Œè°ï¼Œé¸¾å‡¤å’Œé¸£ã€‚â€', desc: 'æ‡‚ä½ ç´éŸ³ï¼Œæ›´æ‡‚ä½ å­¤å¯‚ã€‚' },
            'linghuchong': { name: 'ä»¤ç‹å†²', title: 'æµªå­', quote: 'â€œåƒç§‹éœ¸ä¸šï¼Œä¸å¦‚ä¸€å£¶æµŠé…’ã€‚â€', desc: 'çˆ±æƒ…ä¸å…³é—¨æ´¾ï¼Œåªå…³ä¹ç¬‘å‚²æ±Ÿæ¹–ã€‚' },
            'guojing': { name: 'éƒ­é–', title: 'åŒ—ä¾ ', quote: 'â€œè“‰å„¿ï¼Œæˆ‘ä»¬ä¸€èµ·æ­»ï¼â€', desc: 'ç¬¨æ‹™æ˜¯èµ¤è¯šï¼Œæœºçµæ˜¯ä¾èµ–ã€‚' },
            'huangrong': { name: 'é»„è“‰', title: 'ä¿é»„è“‰', quote: 'â€œé–å“¥å“¥ï¼Œæˆ‘å¸®ä½ å‡ºä¸»æ„ã€‚â€', desc: 'å½¼æ­¤æˆå°±ï¼Œé“¸å°±ä¼ å¥‡ã€‚' },
            'fengheng': { name: 'å†¯è¡¡', title: 'æ¡ƒèŠ±å²›ä¸»æ¯', quote: 'â€œç´ç®«ç›¸å’Œï¼Œä¾¿æ˜¯æ±Ÿæ¹–ã€‚â€', desc: 'ä½ ä»¬æ˜¯å½¼æ­¤çš„çŸ¥éŸ³ï¼Œæ‰æƒ…ä¸å‚²éª¨åœ¨å­¤å²›ä¸Šäº’ä¸ºä¾é ã€‚' },
            'xiaolongnu': { name: 'å°é¾™å¥³', title: 'å¤å¢“ä¼ äºº', quote: 'â€œè¿‡å„¿ï¼Œä½ åˆ«èµ°ã€‚â€', desc: 'æ¸…å†·å‡ºå°˜ï¼Œä½ çš„åšå®ˆæ˜¯ä»–å›å½’å°˜ä¸–çš„å”¯ä¸€ç†ç”±ã€‚' },
            'liqiushui': { name: 'æç§‹æ°´', title: 'é€é¥ç‰å¥³', quote: 'â€œç®—å°½å¤©ä¸‹ï¼Œå´ç®—ä¸è¿‡äººå¿ƒã€‚â€', desc: 'ä¸ä½ åœ¨çç‘æ£‹å±€ä¸­æ–—æ™ºæ–—å¿ƒï¼Œå½¼æ­¤æ˜¯å”¯ä¸€çš„å¯¹æ‰‹å…¼çŸ¥å·±ã€‚' },
            'yangguo': { name: 'æ¨è¿‡', title: 'è¥¿ç‹‚', quote: 'â€œåå…­å¹´ï¼Œç­‰äº†åå…­å¹´ï¼â€', desc: 'ä½ çš„å†·é™ä¸ä¸æŸ“å°˜åŸƒï¼Œæ‰èƒ½æŠšå¹³ä»–å†…å¿ƒçš„ç‹‚å‚²ä¸å­¤ç‹¬ã€‚' },
            'xuzhu': { name: 'è™šç«¹', title: 'çµé¹«å®«ä¸»', quote: 'â€œä½›é—¨æ¸…å‡€åœ°ï¼Œä¸æ•¢å¦„è¨€ã€‚â€', desc: 'å–„è‰¯æ†¨åšï¼Œéœ€è¦ä½ æ¥æŒ‡å¼•ä»–çœ‹æ¸…ä¸–äº‹ï¼ŒæŒæ§æƒåŠ›ã€‚' },
            'xixiaprincess': { name: 'è¥¿å¤å…¬ä¸»', quote: 'â€œä½ è‚¯ä¸ºæˆ‘ç”»çœ‰å—ï¼Ÿâ€', desc: 'ä¸æ…•è™šè£ï¼Œåªæ±‚çœŸæƒ…ï¼Œèƒ½ä¸ä½ å…±äº«å¹³å‡¡è€Œæ¸©é¦¨çš„çˆ±ã€‚' },
            'qiaofeng': { name: 'ä¹”å³°', title: 'å—é™¢å¤§ç‹', quote: 'â€œå¡ä¸Šç‰›ç¾Šç©ºè®¸çº¦ã€‚â€', desc: 'ä¹‰è–„äº‘å¤©ï¼Œä½ çš„æ¸©æŸ”æ˜¯ä»–ä¹±ä¸–ä¸­å”¯ä¸€çš„æ…°è—‰ã€‚' },
            'azhu': { name: 'é˜¿æœ±', title: 'æ…•å®¹å©¢å¥³', quote: 'â€œä½ å¾…æˆ‘å¥½ï¼Œæˆ‘å°±åšä½ çš„å°ä¸«å¤´ã€‚â€', desc: 'æ¸©æŸ”ä½“è´´ï¼Œæ„¿ä¸ºä½ ä»˜å‡ºä¸€åˆ‡ï¼Œæ˜¯ä¹±ä¸–ä¸­æœ€æ¸©æš–çš„æ¸¯æ¹¾ã€‚' },
            'yinggu': { name: 'ç‘›å§‘', title: 'æ¡ƒèŠ±åºµä¸»', quote: 'â€œè€é¡½ç«¥ï¼Œä½ ç»ˆç©¶æ‡‚æˆ‘ã€‚â€', desc: 'æ”¾è‚†ä¸èµ¤è¯šéƒ½åœ¨ä½ èº«è¾¹æœ‰äº†å½’å¤„ï¼Œå¥¹æ„¿ä¸ºä½ çš„ç«¥å¿ƒå†å†’ä¸€æ¬¡é™©ã€‚' },
            'weixiaobao': { name: 'éŸ¦å°å®', title: 'é¹¿é¼å…¬', quote: 'â€œæˆ‘çš„è€å©†ï¼Œä¸ªä¸ªéƒ½æ˜¯å¥½è€å©†ã€‚â€', desc: 'æ²¹æ»‘æœºçµï¼Œä½ çš„å¿ å¿ƒè€¿è€¿ï¼Œæ˜¯ä»–æœ€çè´µä¸”å”¯ä¸€ä¸éœ€è¦é˜²å¤‡çš„äººã€‚' },
            'shuangr': { name: 'åŒå„¿', title: 'éŸ¦å°å®å©¢å¥³', quote: 'â€œå¬çˆ·çš„è¯ï¼Œå°±æ˜¯æœ€å¥½çš„ã€‚â€', desc: 'å¿ å¿ƒä¸äºŒï¼Œä½ çš„ä¿¡ä»»æ˜¯ä»–çš„åŠ›é‡æºæ³‰ã€‚' },
            'duanyu': { name: 'æ®µèª‰', title: 'å¤§ç†ä¸–å­', quote: 'â€œä¼—ç”Ÿå¹³ç­‰ã€‚â€', desc: 'ç—´å¿ƒä¸€ç‰‡ï¼Œä½ çš„å­¦è¯†å’Œæ™ºæ…§èƒ½æ»¡è¶³ä»–å¯¹â€œç¥ä»™å§å§â€çš„æ‰€æœ‰å¹»æƒ³ã€‚' },
            'wangyuyan': { name: 'ç‹è¯­å«£', title: 'ç¥ä»™å§å§', quote: 'â€œå¤šè°¢æ®µå…¬å­æŒ‡æ•™ã€‚â€', desc: 'æ­¦å­¦ç™¾ç§‘ï¼Œä½ çš„ç—´æƒ…å’Œå°Šé‡ï¼Œæ²»æ„ˆäº†å¥¹ç©ºæ´çš„å†…å¿ƒã€‚' },
            'zhouzhr': { name: 'å‘¨èŠ·è‹¥', title: 'å³¨çœ‰æŒé—¨', quote: 'â€œå¼ æ— å¿Œï¼Œæˆ‘æ¨ä½ ä¸€è¾ˆå­ï¼â€', desc: 'å¤–æŸ”å†…åˆšï¼Œä½ çš„ç†æ€§å’Œç›®æ ‡æ„Ÿï¼Œèƒ½æˆä¸ºå¥¹æ±Ÿæ¹–è·¯ä¸Šçš„å”¯ä¸€ç›Ÿå‹ã€‚' },
            'hufei': { name: 'èƒ¡æ–', title: 'é£å¤©ç‹ç‹¸', quote: 'â€œæˆ‘å°±æ˜¯è¦æŠ¥ä»‡ï¼Œä»¥è¡€è¿˜è¡€ã€‚â€', desc: 'é‡æƒ…é‡ä¹‰ï¼Œä½ çš„æ— ç§å¥‰çŒ®èƒ½æ•™ä¼šä»–å¦‚ä½•æ”¾ä¸‹ä»‡æ¨ï¼Œæ‹¥æŠ±çœŸæƒ…ã€‚' },
            'luzhanyuan': { name: 'é™†å±•å…ƒ', title: 'é™†å®¶åº„å°‘çˆ·', quote: 'â€œæˆ‘åªçˆ±æ–‡æ·‘ï¼Œä¸ä½ å·²æ— ç“œè‘›ã€‚â€', desc: 'ä½ çš„æç«¯å’Œæ§åˆ¶æ¬²ï¼Œè®©ä»–æ·±çŸ¥çˆ±æƒ…çš„å¯æ€•ï¼Œè€Œä½ çš„æ‚”æ‚Ÿæ˜¯ä»–æƒ…æ„Ÿæ•‘èµçš„å”¯ä¸€å¯èƒ½ã€‚' },
            'yuebuqun': { name: 'å²³ä¸ç¾¤', title: 'å›å­å‰‘', quote: 'â€œä»ä¹‰é“å¾·ï¼Œå²‚èƒ½è½»è¨€ï¼Ÿâ€', desc: 'ä½ çš„éšå¿ä¸æ”¯æŒï¼Œæ˜¯ä»–ä¼ªè£…çš„æœ€åä¸€å—é®ç¾å¸ƒã€‚' },
            'ningzhongze': { name: 'å®ä¸­åˆ™', title: 'åå±±å¥³ä¾ ', quote: 'â€œå¤«å›ï¼Œåˆ«å¿˜äº†åˆå¿ƒã€‚â€', desc: 'æ¸©æŸ”å…‹åˆ¶ï¼Œèƒ½åœ¨å…³é”®æ—¶åˆ»æé†’ä½ å®ˆä½åº•çº¿ã€‚' },
            'jixiaofu': { name: 'çºªæ™“èŠ™', title: 'å³¨çœ‰å›å§', quote: 'â€œæˆ‘çš„å¿ƒï¼Œæ—©å·²äº¤ç»™äº†ä½ ã€‚â€', desc: 'æ¸©å©‰åšå®šï¼Œä¸ºäº†çˆ±æ„¿æ„èƒŒå¼ƒé—¨æ´¾ï¼Œä¸æ‚¨åŒèµ°æš—è·¯ã€‚' },
            'songshanlady': { name: 'å…°è‹¥', title: 'åµ©å±±è°‹å£«ï¼ˆMBTIæ­é…ï¼‰', quote: 'â€œè§„çŸ©å¯ä»¥æ”¹ï¼Œåªè¦ç›®çš„æ˜ç¡®ã€‚â€', desc: 'å¥¹ä»¥å†·é™ä¸ç®—è®¡è¾…ä½ä½ çš„é‡å¿ƒï¼Œæ˜¯ä½ æœ€å¯é çš„å¹•åæ­æ¡£ã€‚' },
            'jiuniang': { name: 'é˜¿ä¹å¨˜', title: 'æ±Ÿå—é…’è‚†æŒå‹º', quote: 'â€œå¥½èœé…å¥½é…’ï¼Œä¹Ÿé…æ‡‚åƒçš„äººã€‚â€', desc: 'ä½ ä»¬ä»¥æŸ´ç±³æ²¹ç›å‚¬åŠ¨ä¾ ä¹‰ï¼Œå¥¹è´Ÿè´£åå‹¤ï¼Œä½ è´Ÿè´£æ‰“æ¶ã€‚' },
            'menggushengnv': { name: 'æ•è‹å…¬ä¸»', title: 'è’™å¤åœ£å¥³ï¼ˆMBTIæ­é…ï¼‰', quote: 'â€œé“è¡€ä¸ä¿¡ä»°ï¼Œå¯ä»¥å…¼å¾—ã€‚â€', desc: 'å¥¹ä»¥å†·é™ä¿¡ä»°æ”¯æ’‘ä½ çš„ç‹è€…é‡å¿ƒï¼Œæ˜¯æœ€å¿ è¯šçš„æ™ºå›Šã€‚' },
            'emeiguardian': { name: 'æ²ˆæ¸…å¹´', title: 'å³¨çœ‰é“å«ï¼ˆMBTIæ­é…ï¼‰', quote: 'â€œå¸ˆå¤ªï¼Œè§„çŸ©ç”±æˆ‘æ¥å®ˆã€‚â€', desc: 'æ²‰ç¨³æœæ–­ï¼Œä¸ºä½ æŒ¡ä¸‹ä¿—åŠ¡ï¼Œè®©ä½ ä¸“æ³¨äºç»´æŠ¤é—¨è§„ã€‚' }
        };
        
        // --- å®Œæ•´ 32 ä½è§’è‰²æ•°æ® ---
        const characterDatabase = {
            'M': {
                'ISTJ': { name: 'éƒ­é–', title: 'åŒ—ä¾ ', mbti: 'ISTJ', sectType: 'lotus', sectName: 'ä¸å¸®', quote: 'â€œä¾ ä¹‹å¤§è€…ï¼Œä¸ºå›½ä¸ºæ°‘ã€‚â€', desc: 'åˆšæ¯…æœ¨è®·ï¼Œä½ çš„åšæŒå’ŒåŸåˆ™æ˜¯ç«‹è¶³æ ¹æœ¬ã€‚ä¸æ“…è¨€è¾ï¼Œä½†èƒ¸æ€€å¤©ä¸‹ï¼Œä½ ç”¨è¡ŒåŠ¨è¯æ˜ä¸€åˆ‡ã€‚', matchKey: 'huangrong', icon: 'ğŸ¹', gradient: 'from-yellow-100 to-white' },
                'ISFJ': { name: 'è™šç«¹', title: 'çµé¹«å®«ä¸»', mbti: 'ISFJ', sectType: 'yin', sectName: 'çµé¹«å®«', quote: 'â€œä½›é—¨æ¸…å‡€åœ°ï¼Œä¸æ•¢å¦„è¨€ã€‚â€', desc: 'å¿ƒåœ°å–„è‰¯ï¼Œè¢«åŠ¨åœ°å·å…¥æ±Ÿæ¹–çº·äº‰ã€‚ä½ ä¹äºåŠ©äººï¼Œå¸¸æŠŠä»–äººéœ€æ±‚æ”¾åœ¨é¦–ä½ï¼Œæ˜¯çœŸæ­£çš„â€œè€å¥½äººâ€ã€‚', matchKey: 'xixiaprincess', icon: 'ğŸ“¿', gradient: 'from-green-100 to-white' },
                'ISTP': { name: 'æ¨è¿‡', title: 'è¥¿ç‹‚', mbti: 'ISTP', sectType: 'sword', sectName: 'å¤å¢“', quote: 'â€œæƒ…èŠ±æ–­è‚ ï¼Œé»¯ç„¶é”€é­‚ã€‚â€', desc: 'ç‰¹ç«‹ç‹¬è¡Œï¼Œå¤–è¡¨å†·å‚²ï¼Œå†…é‡Œç‹‚çƒ­ã€‚ä½ è”‘è§†ä¸–ä¿—ç¤¼æ³•ï¼Œå–œæ¬¢ç”¨è‡ªå·±çš„æ–¹å¼è§£å†³é—®é¢˜ï¼Œæ˜¯å­¤ç‹¬çš„è¡Œè€…ã€‚', matchKey: 'xiaolongnu', icon: 'ğŸ¦…', gradient: 'from-cyan-100 to-white' },
                'ISFP': { name: 'ä»¤ç‹å†²', title: 'æµªå­', mbti: 'ISFP', sectType: 'bottle', sectName: 'åå±±', quote: 'â€œä½†æ±‚æ— æ„§äºå¿ƒã€‚â€', desc: 'ç”Ÿæ€§è±è¾¾ï¼Œæ¯”èµ·å¤©ä¸‹ç¬¬ä¸€ï¼Œæ›´åœ¨ä¹æ‰‹ä¸­çš„é…’ã€‚ä½ ä¸è¢«æƒåŠ›æŸç¼šï¼Œè¿½æ±‚è‡ªç”±ä¸çœŸæ€§æƒ…ï¼Œæ½‡æ´’ä¸ç¾ã€‚', matchKey: 'renyingying', icon: 'ğŸ¶', gradient: 'from-indigo-100 to-white' },
                'INFP': { name: 'å¼ æ— å¿Œ', title: 'æ˜æ•™æ•™ä¸»', mbti: 'INFP', sectType: 'fire', sectName: 'æ˜æ•™', quote: 'â€œå€˜è‹¥æˆ‘é—®å¿ƒæœ‰æ„§å‘¢ï¼Ÿâ€', desc: 'å¿ƒæ€€ä»åšï¼Œæ‹¥æœ‰ç»ä¸–å†…åŠ›å´ä¸æ„¿äº‰æ–—ï¼ŒåŠ›é‡æºäºå®ˆæŠ¤ã€‚ä½ æ€»åœ¨ç†æƒ³ä¸ç°å®é—´æŒ£æ‰ï¼Œå¸¸å› ä¼˜æŸ”å¯¡æ–­è€Œè‹¦æ¼ã€‚', matchKey: 'zhaomin', icon: 'â˜¯ï¸', gradient: 'from-blue-100 to-white' },
                'INFJ': { name: 'æ®µèª‰', title: 'å¤§ç†ä¸–å­', mbti: 'INFJ', sectType: 'lotus', sectName: 'å¤§ç†', quote: 'â€œä¼—ç”Ÿå¹³ç­‰ã€‚â€', desc: 'å†…æ•›æ¸©å’Œï¼Œèƒ¸æ€€æ…ˆæ‚²ä¸ç†æƒ³ä¸»ä¹‰ã€‚ä½ å¯¹å¿ƒä¸­è®¤å®šçš„äº‹ç‰©æ— æ¯”æ‰§ç€ï¼Œä¸ºçˆ±å¯ä»¥ä¸é¡¾ä¸€åˆ‡ï¼Œä½†å¶å°”æ˜¾å¾—æœ‰äº›å¤©çœŸã€‚', matchKey: 'wangyuyan', icon: 'ğŸ¦‹', gradient: 'from-pink-100 to-white' },
                'INTJ': { name: 'é»„è¯å¸ˆ', title: 'ä¸œé‚ª', mbti: 'INTJ', sectType: 'bottle', sectName: 'æ¡ƒèŠ±å²›', quote: 'â€œæ¡ƒèŠ±å½±è½é£ç¥å‰‘ã€‚â€', desc: 'æ™ºæ…§ç»é¡¶ï¼Œè”‘è§†ä¸–ä¿—ã€‚ä½ å¿ƒæ€ç¼œå¯†ï¼Œè¿½æ±‚æè‡´çš„å®Œç¾å’Œç‹¬ç«‹ï¼Œæœ‰æ—¶æ˜¾å¾—ç¦»ç»å›é“ã€å­¤åƒ»æ¸…é«˜ã€‚', matchKey: 'fengheng', icon: 'ğŸ‹', gradient: 'from-purple-100 to-white' },
                'INTP': { name: 'è‹æ˜Ÿæ²³', title: 'é€é¥æ´¾æ™ºè€…', mbti: 'INTP', sectType: 'fire', sectName: 'é€é¥æ´¾', quote: 'â€œçç‘æ£‹å±€ï¼Œå°½åœ¨å¿ƒä¸­ã€‚â€', desc: 'æ²‰è¿·æ¨æ¼”ä¸æ€è¾¨ï¼Œæ“…é•¿æ„ç­‘å¤æ‚ç³»ç»Ÿã€‚ä½ ç†æ€§å†·é™ï¼Œä»¥é€»è¾‘æ‹†è§£å¤©ä¸‹æ­¦å­¦éš¾é¢˜ï¼Œå´å¸¸å¿˜äº†å›åˆ°ç°å®ã€‚', matchKey: 'liqiushui', icon: 'â™Ÿï¸', gradient: 'from-amber-100 to-white' },
                'ESTP': { name: 'éŸ¦å°å®', title: 'é¹¿é¼å…¬', mbti: 'ESTP', sectType: 'yin', sectName: 'æœå»·', quote: 'â€œåæ­£åœ¨æˆ‘å¿ƒé‡Œï¼Œä¸ƒä¸ªè€å©†ä¸ªä¸ªéƒ½å¥½ã€‚â€', desc: 'æœºçµå–„å˜ï¼Œå¤©ç”Ÿæ“…é•¿äº¤é™…å’Œåº”å˜ã€‚ä½ æ´»åœ¨å½“ä¸‹ï¼Œæ€»èƒ½æŠ“ä½æœºä¼šï¼Œè™½ç„¶ç¼ºä¹åŸåˆ™ï¼Œä½†èƒœåœ¨æœ‰æƒ…æœ‰ä¹‰ã€åœ†æ»‘å¤„ä¸–ã€‚', matchKey: 'shuangr', icon: 'ğŸ²', gradient: 'from-red-100 to-white' },
                'ESFP': { name: 'æ´ªä¸ƒå…¬', title: 'åŒ—ä¸', mbti: 'ESFP', sectType: 'lotus', sectName: 'ä¸å¸®', quote: 'â€œåƒåƒå–å–ï¼Œå¿«æ´»ä¸€ç”Ÿã€‚â€', desc: 'è´ªåƒå¥½ç©ã€è±è¾¾çˆ½æœ—ã€‚ä½ äº«å—å½“ä¸‹ã€æ„ŸæŸ“èº«è¾¹çš„äººï¼Œä¹Ÿç”¨æ´’è„±çš„æ–¹å¼ä¼ é€’æ­£ä¹‰ä¸ä¾ ä¹‰ã€‚', matchKey: 'jiuniang', icon: 'ğŸ—', gradient: 'from-orange-100 to-white' },
                'ESTJ': { name: 'å·¦å†·ç¦…', title: 'äº”å²³ç›Ÿä¸»', mbti: 'ESTJ', sectType: 'sword', sectName: 'åµ©å±±', quote: 'â€œå”¯æˆ‘ç‹¬å°Šï¼Œå‰‘æŒ‡å¤©ä¸‹ã€‚â€', desc: 'å¼ºç¡¬åŠ¡å®ï¼Œæ˜¯å¤©ç”Ÿçš„é¢†å¯¼è€…ã€‚ä½ æ³¨é‡ç§©åºå’Œè§„åˆ™ï¼Œç›®æ ‡æ„Ÿæå¼ºï¼Œä½†æ‰‹æ®µè¿‡äºåŠŸåˆ©ï¼Œç¼ºä¹äººæƒ…å‘³ã€‚', matchKey: 'songshanlady', icon: 'â›°ï¸', gradient: 'from-gray-100 to-white' },
                'ESFJ': { name: 'å²³ä¸ç¾¤', title: 'å›å­å‰‘', mbti: 'ESFJ', sectType: 'bottle', sectName: 'åå±±', quote: 'â€œä»ä¹‰é“å¾·ï¼Œå²‚èƒ½è½»è¨€ï¼Ÿâ€', desc: 'è¡¨é¢å„’é›…ï¼Œå®åˆ™è™šä¼ªã€‚ä½ æ¸´æœ›å¾—åˆ°ä¸–äººçš„è®¤å¯å’Œå°Šé‡ï¼Œæ˜¯ç¤¾äº¤è§„åˆ™çš„ç»´æŠ¤è€…ï¼Œä½†å†…å¿ƒæ·±å¤„è¢«æ¬²æœ›é©±ä½¿ã€‚', matchKey: 'ningzhongze', icon: 'ğŸ¤µ', gradient: 'from-slate-100 to-white' },
                'ENFP': { name: 'å‘¨ä¼¯é€š', title: 'è€é¡½ç«¥', mbti: 'ENFP', sectType: 'fire', sectName: 'å…¨çœŸ', quote: 'â€œå·¦å³äº’æï¼Œç«¥å¿ƒæœªæ³¯ã€‚â€', desc: 'ç²¾åŠ›æ—ºç››ã€å¥½å¥‡å¿ƒçˆ†æ£šã€‚ä½ ä¹äºç»“äº¤æœ‹å‹ã€è¿½é€å¥‡æ€å¦™æƒ³ï¼Œæ°¸è¿œåƒä¸ªé•¿ä¸å¤§çš„å­©å­ã€‚', matchKey: 'yinggu', icon: 'ğŸ¤¸', gradient: 'from-rose-100 to-white' },
                'ENTP': { name: 'æ¨é€', title: 'æ˜æ•™å…‰æ˜å·¦ä½¿', mbti: 'ENTP', sectType: 'fire', sectName: 'æ˜æ•™', quote: 'â€œæˆä¸è´¥ï¼Œä¸è¿‡ä¸€å¿µä¹‹é—´ã€‚â€', desc: 'æ™ºæ…§å“ç»ã€å£æ‰çŠ€åˆ©ã€‚ä½ æ“…é•¿è¾©é©³ä¸å¸ƒå±€ï¼Œä»¥çµæ´»ç­–ç•¥åº”å¯¹æ±Ÿæ¹–çº·äº‰ï¼Œæ¡€éªœä¸é©¯å´æå…·é­…åŠ›ã€‚', matchKey: 'jixiaofu', icon: 'ğŸŒ€', gradient: 'from-red-100 to-white' },
                'ENFJ': { name: 'ä¹”å³°', title: 'å—é™¢å¤§ç‹', mbti: 'ENFJ', sectType: 'bottle', sectName: 'ä¸å¸®', quote: 'â€œæˆ‘ä¹”å³°è¦èµ°ï¼Œè°äººèƒ½æŒ¡ï¼â€', desc: 'è±ªæ°”å¹²äº‘ã€ä»¥ä¹‰èšä¼—ã€‚ä½ å¤©ç”Ÿé¢†è¢–ï¼Œèƒ½å‡èšäººå¿ƒã€ä»¥å¤§ä¹‰ä¸ºå…ˆï¼Œç”¨æ‹…å½“æ’‘èµ·æ±Ÿæ¹–çš„å¸Œæœ›ã€‚', matchKey: 'azhu', icon: 'ğŸ¦', gradient: 'from-lime-100 to-white' },
                'ENTJ': { name: 'é‡‘è½®æ³•ç‹', title: 'è’™å¤å›½å¸ˆ', mbti: 'ENTJ', sectType: 'yin', sectName: 'è’™å¤', quote: 'â€œèƒœè€…ä¸ºç‹ï¼Œæ­¦æ—å°Šè€…ã€‚â€', desc: 'éœ¸æ°”åè¶³ï¼Œç›®æ ‡æ˜ç¡®ã€‚ä½ æ‹¥æœ‰å“è¶Šçš„æˆ˜ç•¥çœ¼å…‰å’Œæ‰§è¡ŒåŠ›ï¼Œæ˜¯å¤©ç”Ÿçš„ç»Ÿæ²»è€…ï¼Œä¸è¾¾ç›®çš„èª“ä¸ç½¢ä¼‘ã€‚', matchKey: 'menggushengnv', icon: 'ğŸ‘‘', gradient: 'from-stone-100 to-white' }
            },
            'F': {
                'ISTJ': { name: 'ç­ç»å¸ˆå¤ª', title: 'å³¨çœ‰æŒé—¨', mbti: 'ISTJ', sectType: 'sword', sectName: 'å³¨çœ‰', quote: 'â€œæ–©è‰é™¤æ ¹ï¼Œä»¥æ­£è§†å¬ã€‚â€', desc: 'ä¸¥è‹›è‡ªå¾‹ï¼Œå¿ äºä¼ ç»Ÿã€‚ä½ åšå®ˆåŸåˆ™ï¼Œå¯¹è§„åˆ™æœ‰ç€è¿‘ä¹åæ‰§çš„ç»´æŠ¤ï¼Œç¼ºä¹å˜é€šå’ŒåŒç†å¿ƒã€‚', matchKey: 'emeiguardian', icon: 'âš”ï¸', gradient: 'from-red-100 to-white' },
                'ISFJ': { name: 'ç¨‹çµç´ ', title: 'æ¯’æ‰‹è¯ç‹ä¼ äºº', mbti: 'ISFJ', sectType: 'bottle', sectName: 'è¯ç‹è°·', quote: 'â€œæ•‘äººä¸€å‘½ï¼Œä¸æ±‚å›æŠ¥ã€‚â€', desc: 'æ— ç§å¥‰çŒ®ï¼Œå†…å¿ƒæ¸©æŸ”ã€‚ä½ æ€»æ˜¯é»˜é»˜å®ˆæŠ¤ï¼Œå°†è‡ªå·±çš„ç—›è‹¦éšè—ï¼Œæ˜¯ä»–äººä¸–ç•Œä¸­æœ€å¯é çš„æ”¯æ’‘ã€‚', matchKey: 'hufei', icon: 'ğŸŒ¿', gradient: 'from-teal-100 to-white' },
                'ISTP': { name: 'å°é¾™å¥³', title: 'å¤å¢“ä¼ äºº', mbti: 'ISTP', sectType: 'yin', sectName: 'å¤å¢“æ´¾', quote: 'â€œè¿‡å„¿ï¼Œè¿™é‡Œå¥½æ¸…é™ã€‚â€', desc: 'æ¸…å†·å‡ºå°˜ï¼Œä¸é£Ÿäººé—´çƒŸç«ã€‚ä½ ç‹¬ç«‹ã€å®¢è§‚ã€å†·é™ï¼Œå–œæ¬¢ç‹¬å¤„å’Œè‡ªç”±ï¼Œæ˜¯ç†æ€§ä¸ç¾å­¦çš„åŒ–èº«ã€‚', matchKey: 'yangguo', icon: 'ğŸ§Š', gradient: 'from-cyan-100 to-white' },
                'ISFP': { name: 'é˜¿æœ±', title: 'æ…•å®¹å©¢å¥³', mbti: 'ISFP', sectType: 'lotus', sectName: 'æ…•å®¹åºœ', quote: 'â€œå¡ä¸Šç‰›ç¾Šç©ºè®¸çº¦ã€‚â€', desc: 'æ¸©æŸ”ä½“è´´ï¼Œæå¯ŒåŒæƒ…å¿ƒã€‚ä½ æ“…é•¿æ˜“å®¹æœ¯ï¼Œæ˜¯å¿ è¯šçš„è¿½éšè€…ï¼Œæ´»åœ¨å½“ä¸‹ï¼Œç”¨çˆ±å’Œç‰ºç‰²ç…§äº®ä»–äººã€‚', matchKey: 'qiaofeng', icon: 'ğŸ­', gradient: 'from-rose-100 to-white' },
                'INFP': { name: 'ä»ªç³', title: 'æ’å±±å¼Ÿå­', mbti: 'INFP', sectType: 'fire', sectName: 'æ’å±±', quote: 'â€œæˆ‘å¿ƒæ‚¦ä»¤ç‹å¤§å“¥ã€‚â€', desc: 'çº¯çœŸå–„è‰¯ï¼Œé‡è§†å†…åœ¨ä¿¡å¿µã€‚ä½ ä»¥æŸ”å…‹åˆšï¼Œç”¨çœŸæƒ…æ„ŸæŸ“ä»–äººï¼Œæ˜¯æ±Ÿæ¹–ä¹±ä¸–ä¸­æœ€æŸ”è½¯å´åšå®šçš„åŠ›é‡ã€‚', matchKey: 'linghuchong', icon: 'ğŸ™', gradient: 'from-blue-100 to-white' },
                'INFJ': { name: 'ä»»ç›ˆç›ˆ', title: 'åœ£å§‘', mbti: 'INFJ', sectType: 'fire', sectName: 'æ—¥æœˆæ•™', quote: 'â€œç´ç®«åˆå¥ï¼Œé¸¾å‡¤å’Œé¸£ã€‚â€', desc: 'å¤–åˆšå†…æŸ”ï¼Œç”¨æ¸©æŸ”å’Œæ™ºæ…§åŒ–è§£æ±Ÿæ¹–æˆ¾æ°”ã€‚ä½ æ‹¥æœ‰å¼ºå¤§çš„æ´å¯ŸåŠ›ï¼Œæ˜¯ç†æƒ³çš„å®ˆæŠ¤è€…å’Œç­–ç•¥å®¶ã€‚', matchKey: 'linghuchong', icon: 'ğŸ¹', gradient: 'from-purple-100 to-white' },
                'INTJ': { name: 'å‘¨èŠ·è‹¥', title: 'å³¨çœ‰æŒé—¨', mbti: 'INTJ', sectType: 'yin', sectName: 'å³¨çœ‰', quote: 'â€œæ˜”æ—¥æ—§æƒ…ï¼Œä»Šæ—¥å·²æ–­ã€‚â€', desc: 'é«˜å†·ç†æ™ºï¼Œç›®æ ‡æ˜ç¡®ã€‚ä½ æ‹¥æœ‰å“è¶Šçš„è§„åˆ’èƒ½åŠ›ï¼Œä¸€æ—¦ç¡®å®šç›®æ ‡ï¼Œä¾¿ä¼šä¸æƒœä¸€åˆ‡ä»£ä»·å»å®ç°ï¼Œç¼ºä¹æƒ…æ„Ÿå›æ—‹çš„ä½™åœ°ã€‚', matchKey: 'zhangwuji', icon: 'ğŸŒ™', gradient: 'from-stone-100 to-white' },
                
                'INTP': { name: 'ç‹è¯­å«£', title: 'ç¥ä»™å§å§', mbti: 'INTP', sectType: 'bottle', sectName: 'æ…•å®¹åºœ', quote: 'â€œç†ŸçŸ¥å¤©ä¸‹æ­¦å­¦ã€‚â€', desc: 'é€»è¾‘ç¼œå¯†ï¼Œæ²‰é†‰ç†è®ºã€‚ä½ ä»¥ç™¾ç§‘å…¨ä¹¦èˆ¬çš„çŸ¥è¯†æ¨æ¼”å¤©ä¸‹æ­¦å­¦ï¼Œæ˜¯åˆ†æä¸æ¨ç†çš„åŒ–èº«ã€‚', matchKey: 'duanyu', icon: 'ğŸ“š', gradient: 'from-yellow-100 to-white' },
                
                'ESTP': { name: 'è“å‡¤å‡°', title: 'äº”æ¯’æ•™ä¸»', mbti: 'ESTP', sectType: 'bottle', sectName: 'äº”æ¯’æ•™', quote: 'â€œæ•¢æƒ¹æˆ‘ï¼Ÿè®©ä½ å°å°äº”æ¯’ï¼â€', desc: 'çƒ­æƒ…å¥”æ”¾ï¼Œè¡ŒåŠ¨åŠ›æå¼ºã€‚ä½ å–œæ¬¢çƒ­é—¹å’Œç©ä¹ï¼Œæ˜¯æ°”æ°›çš„åˆ¶é€ è€…ï¼ŒåŒæ—¶æ‹¥æœ‰æå¼ºçš„è¡ŒåŠ¨åŠ›å’Œè‡ªä¿èƒ½åŠ›ï¼Œå–œæ¬¢å³æ—¶è§£å†³é—®é¢˜ã€‚', matchKey: 'linghuchong', icon: 'ğŸ', gradient: 'from-orange-100 to-white' },

                'ESFP': { name: 'é˜¿ç´«', title: 'æ˜Ÿå®¿æ´¾å¼Ÿå­', mbti: 'ESFP', sectType: 'fire', sectName: 'æ˜Ÿå®¿', quote: 'â€œå§å¤«ï¼Œæˆ‘è¦ä½ æ°¸è¿œé™ªæˆ‘ï¼â€', desc: 'ä»»æ€§å†²åŠ¨ï¼Œæƒ…ç»ªå¤–éœ²ã€‚ä½ æ´»åœ¨å½“ä¸‹ï¼Œè¿½æ±‚åˆºæ¿€ï¼Œäº«å—æˆä¸ºç„¦ç‚¹çš„ä¹è¶£ï¼Œä½†ç¼ºä¹åŒç†å¿ƒå’Œé•¿è¿œè§„åˆ’ã€‚', matchKey: 'qiaofeng', icon: 'ğŸ˜ˆ', gradient: 'from-fuchsia-100 to-white' },

                'ESTJ': { name: 'æè«æ„', title: 'èµ¤ç»ƒä»™å­', mbti: 'ESTJ', sectType: 'sword', sectName: 'å¤å¢“', quote: 'â€œé—®ä¸–é—´ï¼Œæƒ…æ˜¯ä½•ç‰©...â€', desc: 'å«‰æ¶å¦‚ä»‡ï¼Œæ‰§è¡ŒåŠ›æå¼ºã€‚ä½ å¯¹æƒ…æ„Ÿçš„æ§åˆ¶æ¬²æé«˜ï¼Œä¸€æ—¦è¢«ä¼¤å®³ï¼Œå°±ä¼šä»¥æç«¯çš„æ‰‹æ®µç»´æŠ¤è‡ªå·±çš„ç§©åºå’Œå°Šä¸¥ã€‚', matchKey: 'luzhanyuan', icon: 'ğŸ’”', gradient: 'from-red-100 to-white' },
                'ESFJ': { name: 'å®ä¸­åˆ™', title: 'åå±±å¥³ä¾ ', mbti: 'ESFJ', sectType: 'yin', sectName: 'åå±±', quote: 'â€œå¤«å¦»å’Œç¦ï¼Œæ‰æ˜¯æ­£é“ã€‚â€', desc: 'è´¤å¦»è‰¯æ¯ï¼Œé¡¾å…¨å¤§å±€ã€‚ä½ é‡è§†å®¶åº­å’Œäººé™…å…³ç³»ï¼Œæ˜¯é“å¾·å’Œæƒ…æ„Ÿçš„å®ˆæŠ¤è€…ï¼Œä¸ºç»´æŠ¤åå±±çš„ä½“é¢è€Œé èº¬å°½ç˜ã€‚', matchKey: 'yuebuqun', icon: 'ğŸ¡', gradient: 'from-slate-100 to-white' },
                
                'ENFP': { name: 'éƒ­è¥„', title: 'å°ä¸œé‚ª', mbti: 'ENFP', sectType: 'fire', sectName: 'å³¨çœ‰', quote: 'â€œé£é™µæ¸¡å£åˆç›¸é‡ï¼Œä¸€è§æ¨è¿‡è¯¯ç»ˆèº«ã€‚â€', desc: 'çƒ­æƒ…æµªæ¼«ï¼Œå……æ»¡æƒ³è±¡åŠ›å’Œå¯¹ä¸–ç•Œçš„å¥½å¥‡ã€‚ä½ é‡è§†æƒ…æ„Ÿå’Œå¯èƒ½æ€§ï¼Œæ˜¯å¤©ç”Ÿçš„æ¢¦æƒ³å®¶ä¸äº¤é™…èŠ±ã€‚', matchKey: 'yangguo', icon: 'ğŸ', gradient: 'from-lime-100 to-white' },

                'ENTP': { name: 'é»„è“‰', title: 'æ¡ƒèŠ±å²›ä¸»', mbti: 'ENTP', sectType: 'lotus', sectName: 'æ¡ƒèŠ±å²›', quote: 'â€œé–å“¥å“¥ï¼Œæˆ‘å¸®ä½ å‡ºä¸»æ„ã€‚â€', desc: 'å¤çµç²¾æ€ªï¼Œå¤–å‘æ´»è·ƒã€‚ä½ æ˜¯å¤©ç”Ÿçš„è°‹ç•¥å®¶ï¼Œå……æ»¡å¥½å¥‡å¿ƒï¼Œæ“…é•¿é€»è¾‘æ¨ç†å’Œè§£å†³å¤æ‚é—®é¢˜ï¼Œæ˜¯æ™ºå¤šæ˜Ÿå’Œäººé™…é«˜æ‰‹ã€‚', matchKey: 'guojing', icon: 'ğŸª­', gradient: 'from-emerald-100 to-white' },

                'ENFJ': { name: 'åŒå„¿', title: 'éŸ¦å°å®å©¢å¥³', mbti: 'ENFJ', sectType: 'lotus', sectName: 'åº·ç†™', quote: 'â€œå¬çˆ·çš„è¯ï¼Œå°±æ˜¯æœ€å¥½çš„ã€‚â€', desc: 'æ¸©æŸ”å¿ è¯šï¼Œå¯Œæœ‰åŒæƒ…å¿ƒã€‚ä½ å…³æ³¨ä»–äººçš„éœ€æ±‚ï¼Œæ˜¯å¤©ç”Ÿçš„åŠ©äººè€…ï¼Œæ˜¯æ··ä¹±ä¸–ç•Œä¸­æœ€ç¨³å®šçš„æƒ…æ„Ÿä¾é ã€‚', matchKey: 'weixiaobao', icon: 'ğŸ€', gradient: 'from-pink-100 to-white' },
                'ENTJ': { name: 'èµµæ•', title: 'ç»æ•éƒ¡ä¸»', mbti: 'ENTJ', sectType: 'yin', sectName: 'æœå»·', quote: 'â€œæˆ‘åè¦å‹‰å¼ºã€‚â€', desc: 'éœ¸æ°”æœæ•¢ï¼Œæ™ºå‹‡åŒå…¨ã€‚ä½ æ‹¥æœ‰å“è¶Šçš„æˆ˜ç•¥çœ¼å…‰å’Œæ‰§è¡ŒåŠ›ï¼Œæ˜¯å¤©ç”Ÿçš„ç»Ÿæ²»è€…ï¼Œä¸ºçˆ±å¯å¼ƒæ±Ÿå±±ï¼Œä½†ç»ä¸æ”¾å¼ƒä¸»å¯¼æƒã€‚', matchKey: 'zhangwuji', icon: 'ğŸ—¡ï¸', gradient: 'from-orange-100 to-white' }
            }
        };

        const REPORT_PASSWORD = 'è™è™åŠ æ²¹';

        const analysisDatabase = {
            ENFJ: {
                overview: 'ä½ ä»¥æƒ…ä¹‰ç«‹èº«ï¼Œæœ€æ“…é•¿ç”¨æ——å¸œé²œæ˜çš„ä»·å€¼è§‚å‡èšä¼™ä¼´ï¼Œæ˜¯å¤©ç”Ÿçš„é¢†è¢–ä¸æƒ…ç»ªè°ƒèŠ‚è€…ã€‚',
                strengths: ['é¡ºé£å±€ä¸­èƒ½å¿«é€Ÿè°ƒåŠ¨å£«æ°”ï¼Œè®©å›¢é˜Ÿå½¢æˆâ€œæˆ‘ä¸ºäººäººâ€çš„å®šå‘çˆ†å‘ã€‚', 'æ“…é•¿æ´å¯Ÿäººå¿ƒï¼Œæå‰åˆ†é…èµ„æºï¼Œé¿å…é˜Ÿå‹ä¹‹é—´çš„å†…è€—ã€‚', 'å³ä¾¿å½¢åŠ¿å¤§å¥½ä»æ‡‚å¾—è°¦é€Šï¼Œæ‡‚å¾—åœ¨è£è€€é‡Œç»™ä»–äººç•™èˆå°ã€‚'],
                weaknesses: ['é€†é£å±€å®¹æ˜“æƒ…æ„Ÿé€æ”¯ï¼Œæ‰¿æ‹…æ‰€æœ‰äººçš„æƒ…ç»ªå¯¼è‡´å†³æ–­æ»åã€‚', 'å¯¹èƒŒå›å’Œè¯¯è§£è¿‡äºæ•æ„Ÿï¼Œå¯èƒ½åœ¨å…³é”®æ—¶åˆ»çŠ¹è±«ä»¥è‡´é”™å¤±å…ˆæœºã€‚', 'è‹¥çœ‹ä¸åˆ°å¸Œæœ›ä¼šçªç„¶â€œè‡ªæˆ‘å°é—­â€ï¼Œè®©é˜Ÿå‹ä¸çŸ¥æ‰€æªã€‚']
            },
            ENFP: {
                overview: 'ä½ æ˜¯æ±Ÿæ¹–é‡Œçš„çµæ„Ÿæ³‰çœ¼ï¼Œæƒ³åˆ°å°±åšã€åšå°±æœ‰è¶£ï¼Œæœ€èƒ½å”¤é†’ä»–äººå¯¹è‡ªç”±çš„å‘å¾€ã€‚',
                strengths: ['é¡ºé£å±€ä¸‹ç‚¹å­çˆ†ç‚¸ï¼Œç”¨æƒ³è±¡åŠ›æŠŠä¼˜åŠ¿æ»šæˆé›ªçƒã€‚', 'ç¤¾äº¤ç›´è§‰æå¼ºï¼Œèƒ½è¿…é€Ÿè¯»æ‡‚å±€åŠ¿ä¸­çš„æƒ…æ„Ÿæš—æµã€‚', 'å–„äºç”¨å¹½é»˜ä¸æµªæ¼«ç¼“è§£ç´§å¼ ï¼Œè®©å›¢é˜Ÿä¿æŒè½»ç›ˆçŠ¶æ€ã€‚'],
                weaknesses: ['é€†é£å±€ä¼šæƒ…ç»ªåŒ–ï¼Œé¢‘ç¹åˆ‡æ¢æ€è·¯å¯¼è‡´ä¼™ä¼´éš¾ä»¥è·Ÿä¸Šã€‚', 'è¿‡åº¦ä¾èµ–ç›´è§‰ï¼Œå¯èƒ½å¿½ç•¥ç»†èŠ‚å¯¼è‡´æˆ˜ç•¥æ¼æ´ã€‚', 'æ˜“å—å¤–ç•Œè¯„ä»·å½±å“ï¼Œå¿ƒæ€ç¨ä¸ç¨³å°±æƒ³â€œè·‘è·¯â€ã€‚']
            },
            ENTP: {
                overview: 'ä½ å–œæ¬¢å¼€è„‘æ´ã€æ‹†å¥—è·¯ï¼Œæ˜¯æ±Ÿæ¹–é‡Œçš„å¥‡è°‹åˆ¶é€ æœºã€‚',
                strengths: ['é¡ºé£å±€æ•¢äºå¤§å¼€å¤§åˆï¼Œä»¥ç­–ç•¥å‹åˆ¶å¯¹æ‰‹çš„å¿ƒç†é˜²çº¿ã€‚', 'èƒ½åœ¨æ•Œäººæœªååº”å‰å®Œæˆå¤šå¥—å¤‡é€‰æ–¹æ¡ˆï¼Œä¿æŒæŒæ§æ„Ÿã€‚', 'æ“…é•¿è¾©è®ºä¸èˆ†è®ºæˆ˜ï¼Œè½»æ¾å¼•å¯¼é£å‘ï¼Œè®©å·±æ–¹å£°åŠ¿å¦‚è™¹ã€‚'],
                weaknesses: ['é€†é£å±€å®¹æ˜“ä¸äººäº‰è¾©æŠŠç²¾åŠ›è€—åœ¨å˜´ä¸Šã€‚', 'å¯¹è§„åˆ™ç¼ºä¹è€å¿ƒï¼Œå¯èƒ½åœ¨æœ€éœ€è¦ç¨³å®šæ—¶ä¸´é˜µæ”¹è®¡åˆ’ã€‚', 'è‹¥ç¼ºå°‘æ¬£èµè€…ï¼Œä¼šå› ä¸ºæ— è¶£è€Œé€‰æ‹©â€œæ‘†çƒ‚â€ã€‚']
            },
            ENTJ: {
                overview: 'ä½ ä»¥ç»“æœä¸ºç‹ï¼Œå†·é™è°ƒåº¦èµ„æºï¼Œæ˜¯ç»Ÿç­¹æ´¾çš„ä»£è¡¨ã€‚',
                strengths: ['é¡ºé£å±€èƒ½è¿…é€Ÿæ‰©å¤§æˆ˜æœï¼Œå»ºç«‹å®Œå¤‡ç§©åºé˜²æ­¢ä¹±è±¡ã€‚', 'æ“…é•¿æ‹†è§£ä»»åŠ¡ã€åˆ†å±‚æ‰§è¡Œï¼Œç¡®ä¿æ¯ä¸€æ­¥éƒ½åœ¨æŒæ¡ä¹‹ä¸­ã€‚', 'æœæ–­ä¸‹å‘½ä»¤ï¼Œå‡å°‘å›¢é˜Ÿçš„æ— è°“è®¨è®ºã€‚'],
                weaknesses: ['é€†é£å±€æ—¶æ§åˆ¶æ¬²æ›´å¼ºï¼Œå®¹æ˜“å¿½è§†é˜Ÿå‹çš„çœŸå®éœ€æ±‚ã€‚', 'è‹¥ä»–äººæ— æ³•è·Ÿä¸ŠèŠ‚å¥ï¼Œä½ ä¼šç›´æ¥æ¥ç®¡ï¼Œå¯¼è‡´è¿›ä¸€æ­¥ç–²æƒ«ã€‚', 'å¯¹å¤±è´¥å®¹å¿åº¦ä½ï¼Œå¯èƒ½æŠŠæ€’ç«è½¬å‘è‡ªå·±æˆ–é˜Ÿå‹ã€‚']
            },
            ESFP: {
                overview: 'ä½ æŠŠæ±Ÿæ¹–å½“èˆå°ï¼Œäº«å—å³æ—¶åé¦ˆçš„çƒ­é—¹æ´¾è¡Œè€…ã€‚',
                strengths: ['é¡ºé£å±€é‡Œèƒ½ç”¨æ°”æ°›å¸¦åŠ¨å…¨åœºï¼Œè®©å£«æ°”é«˜æ¶¨ã€‚', 'ååº”å¿«ã€èƒ†å­å¤§ï¼Œå¸¸èƒ½å‡­ç›´è§‰æŠ“ä½è½¬ç¬å³é€çš„æœºä¼šã€‚', 'æ“…é•¿ç»è¥äººæƒ…ï¼Œæ‡‚å¾—åœ¨èƒœåˆ©é‡ŒçŠ’èµå›¢é˜Ÿã€‚'],
                weaknesses: ['é€†é£å±€å®¹æ˜“é€ƒé¿å‹åŠ›ï¼Œæƒ³å…ˆæ‰¾å¨±ä¹æ¥â€œå›è¡€â€ã€‚', 'æƒ…ç»ªå†™åœ¨è„¸ä¸Šï¼Œè®©å¯¹æ‰‹çœ‹ç©¿ä½ çš„åŠ¨å‘ã€‚', 'ä¸æ“…é•¿é•¿çº¿è®¡åˆ’ï¼Œå±€é¢èƒ¶ç€æ—¶ä¼šç„¦èºã€‚']
            },
            ESTP: {
                overview: 'ä½ å´‡å°šâ€œé©¬ä¸Šè§æ•ˆâ€ï¼Œå–œæ¬¢ä»¥é€Ÿåº¦å’Œå‹‡æ°”ç ´å±€ã€‚',
                strengths: ['é¡ºé£å±€ç›´æ¥å†²é˜µï¼Œç”¨è¡ŒåŠ¨æ‰©å¤§é¢†å…ˆã€‚', 'ä¸´åœºé€‚åº”èƒ½åŠ›æå¼ºï¼Œä»»ä½•çªå‘éƒ½èƒ½å³å…´åº”å¯¹ã€‚', 'æ“…é•¿è¯»æ‡‚å¯¹æ‰‹çš„èº«ä½“è¯­è¨€ï¼Œåœ¨åˆ€å…‰å‰‘å½±é—´æ‰¾ç ´ç»½ã€‚'],
                weaknesses: ['é€†é£å±€å®¹æ˜“å†’é™©è¿‡å¤´ï¼ŒæŠŠæ®‹è¡€å½“æ»¡è¡€å»æ‰“ã€‚', 'å¯¹å†—é•¿æ²Ÿé€šä¸è€çƒ¦ï¼Œå¯èƒ½å¿½ç•¥é˜Ÿå‹çš„æé†’ã€‚', 'æ²¡æœ‰å³æ—¶åé¦ˆå°±å®¹æ˜“ä¸§å¤±åŠ¨åŠ›ã€‚']
            },
            ESFJ: {
                overview: 'ä½ æ˜¯å›¢é˜Ÿçš„æ¸©åº¦ç®¡ç†è€…ï¼Œæ“…é•¿ç”¨ç§©åºå®ˆæŠ¤å…³ç³»ã€‚',
                strengths: ['é¡ºé£å±€ä¸­ä¼šç»†è‡´ç…§é¡¾æ¯ä¸ªäººï¼Œè®©ä¼˜åŠ¿é•¿æœŸç¨³å®šã€‚', 'å–„ç”¨ç¤¼ä»ªä¸èµ„æºç»´ç³»è”ç›Ÿï¼Œè®©æœ‹å‹åœˆæˆä¸ºæŠ¤åŸæ²³ã€‚', 'ä¹äºåˆ†äº«åŠŸåŠ³ï¼Œè®©å›¢é˜Ÿå¯¹ä½ æ›´å¿ è¯šã€‚'],
                weaknesses: ['é€†é£å±€ä¼šæŠŠè´£ä»»éƒ½å¾€è‡ªå·±èº«ä¸Šæ½ï¼Œå‹åŠ›å€å¢ã€‚', 'è¿‡åº¦åœ¨æ„ä»–äººçœ‹æ³•ï¼Œå¯èƒ½æ”¾ä¸ä¸‹â€œé¢å­â€è€Œé”™å¤±ç ´å±€æœºä¼šã€‚', 'å¯¹çªå‘å˜åŒ–ååº”æ…¢ï¼Œä¾èµ–æ—¢å®šæµç¨‹ã€‚']
            },
            ESTJ: {
                overview: 'ä½ æŠŠè§„åˆ™è§†ä½œæ­¦å™¨ï¼Œç”¨ä¸¥æ˜çš„çºªå¾‹æ¨åŠ¨èƒœåˆ©ã€‚',
                strengths: ['é¡ºé£å±€ä¸‹èƒ½æŠŠæˆ˜æœ¯æ‰§è¡Œå¾—æ»´æ°´ä¸æ¼ï¼Œè®©å¯¹æ‰‹æ— ç¼å¯é’»ã€‚', 'æ“…é•¿åˆ¶å®šæ ‡å‡†ï¼Œä¿è¯å›¢é˜Ÿè¿ä½œæ•ˆç‡ã€‚', 'å†³ç­–å¹²è„†ï¼Œä¸ç»™çŠ¹è±«ç•™ç©ºé—´ã€‚'],
                weaknesses: ['é€†é£å±€å¯èƒ½å˜å¾—è‹›åˆ»ï¼Œè¨€è¾è¿‡ç¡¬ä¼¤åˆ°å£«æ°”ã€‚', 'å¯¹åˆ›æ–°å®¹å¿åº¦ä½ï¼Œéš¾ä»¥æ¥å—ä¸´æ—¶æ”¹å˜è·¯çº¿ã€‚', 'ä¹ æƒ¯æŠŠäº‹æƒ…åšâ€œå¯¹â€ï¼Œè€Œéåšâ€œæ´»â€ï¼Œå¯¼è‡´ç¼ºä¹çµæ´»åº¦ã€‚']
            },
            INFJ: {
                overview: 'ä½ æ˜¯æ´å¯Ÿäººå¿ƒçš„ç­–å£«ï¼Œç”¨ä¿¡å¿µå®ˆä½å¤§å±€ã€‚',
                strengths: ['é¡ºé£å±€é‡Œä¼šä»¥æ„¿æ™¯åŠ å›ºå›¢é˜Ÿï¼Œç¡®ä¿èƒœåˆ©æœ‰æ„ä¹‰ã€‚', 'æ“…é•¿æå‰æ„ŸçŸ¥é£é™©ï¼Œåœ¨æš—å¤„ä¿®æ­£åèˆªã€‚', 'æ‡‚å¾—åœ¨è£è€€æ—¶åˆ»æé†’é˜Ÿå‹ä¸å¿˜åˆå¿ƒã€‚'],
                weaknesses: ['é€†é£å±€ä¼šé™·å…¥è‡ªæˆ‘åçœè¿‡ä¹…ï¼Œé”™è¿‡åå‡»çª—å£ã€‚', 'ä¸æ„¿éº»çƒ¦åˆ«äººï¼Œå®¹æ˜“ç‹¬è‡ªæ‰¿å‹åˆ°ä¸´ç•Œç‚¹ã€‚', 'å¯¹èƒŒç¦»ä»·å€¼è§‚çš„é€‰æ‹©éš¾ä»¥æ‰§è¡Œï¼Œæ‹–æ…¢èŠ‚å¥ã€‚']
            },
            INFP: {
                overview: 'ä½ ä»¥çœŸè¯šè¡Œèµ°æ±Ÿæ¹–ï¼Œå¿ƒä¸­è‡ªæœ‰ä¸€åº§â€œæ¡ƒèŠ±æºâ€ã€‚',
                strengths: ['é¡ºé£å±€èƒ½ä»¥æ¸©æŸ”å…±é¸£è®©ä¼™ä¼´æ›´å›¢ç»“ã€‚', 'å¯¹ç†æƒ³çš„æ‰§ç€è®©ä½ åœ¨ä¼˜åŠ¿æœŸä¿æŒçº¯ç²¹ä¸å–„å¿µã€‚', 'æ“…é•¿ç”¨æ•…äº‹ä¸è±¡å¾æ¿€åŠ±å›¢é˜Ÿã€‚'],
                weaknesses: ['é€†é£å±€ä¼šæ²‰å…¥æƒ…ç»ªï¼Œéš¾ä»¥å¤–æ”¾æˆ˜æ–—åŠ›ã€‚', 'ä¸æ„¿åšâ€œåäººâ€ï¼Œåœ¨éœ€è¦å¼ºç¡¬æ—¶è¿Ÿè¿Ÿä¸‹ä¸äº†æ‰‹ã€‚', 'è¿‡åº¦åçœè‡ªè´£ï¼Œæ¶ˆè€—è¡ŒåŠ¨åŠ›ã€‚']
            },
            INTP: {
                overview: 'ä½ æ˜¯é€»è¾‘ä¸ç³»ç»Ÿçš„æ”¶è—å®¶ï¼Œå–œæ¬¢æ‹†è§£ä¸‡ç‰©è§„å¾‹ã€‚',
                strengths: ['é¡ºé£å±€èƒ½å¿«é€Ÿæ‰¾å‡ºæœ€ä¼˜è§£ï¼ŒèŠ‚çœå¤§é‡è¯•é”™æ—¶é—´ã€‚', 'æ“…é•¿åœ¨åå°æ­å»ºä½“ç³»ï¼Œè®©èƒœåˆ©å¯å¤åˆ¶ã€‚', 'å–œæ¬¢ç”¨å†·å¹½é»˜å’Œæ–°çŸ¥è¯†ç»´æŒå›¢é˜Ÿæ™ºåŠ›æ°´ä½ã€‚'],
                weaknesses: ['é€†é£å±€ä¼šè¿›å…¥â€œæ€è€ƒå¾ªç¯â€ï¼Œè¿Ÿè¿Ÿä¸ç»™ç­”æ¡ˆã€‚', 'å¯¹æƒ…ç»ªä¿¡å·è¿Ÿé’ï¼Œæ˜“å¿½ç•¥ä¼™ä¼´å·²ç»å´©æºƒçš„äº‹å®ã€‚', 'è‹¥æ¨æ¼”å¤±è´¥ä¼šè´¨ç–‘æ„ä¹‰ï¼Œä»è€ŒæŠ½ç¦»æˆ˜åœºã€‚']
            },
            INTJ: {
                overview: 'ä½ è®¡åˆ’æ·±å…¥ã€å¸ƒå±€é•¿è¿œï¼Œæ˜¯æ±Ÿæ¹–ä¸Šçš„â€œæ·±åŸè€…â€ã€‚',
                strengths: ['é¡ºé£å±€ä¼šç«‹åˆ»å‡çº§æˆ˜ç•¥ï¼Œç¡®ä¿é¢†å…ˆè½¬ä¸ºç‹æœã€‚', 'æ“…é•¿ç‹¬ç«‹æ€è€ƒï¼Œé¿å…è¢«å¤–ç•Œå™ªéŸ³å¹²æ‰°ã€‚', 'èƒ½ç²¾å‡†è¯†åˆ«å…³é”®èŠ‚ç‚¹ï¼ŒæŠ•å…¥æœ€å°‘èµ„æºæ‹¿æœ€å¤§æ”¶ç›Šã€‚'],
                weaknesses: ['é€†é£å±€å®¹æ˜“å­¤ç«‹è‡ªå·±ï¼Œä¸æ„¿æ±‚æ´ã€‚', 'å¯¹æ— åºç¯å¢ƒæåº¦ä¸é€‚ï¼Œå¯èƒ½â€œæ”¾å¼ƒå‚ä¸â€ä»¥ä¿æŒè‡ªå°Šã€‚', 'ä¸€æ—¦åˆ¤æ–­æƒ…åŠ¿æ— è§£ï¼Œä¼šæœæ–­æ’¤é€€ç”šè‡³å¼ƒå±€ã€‚']
            },
            ISFP: {
                overview: 'ä½ ä»¥çœŸæ€§æƒ…ä½œå‰‘ï¼Œæ˜¯ç¾å­¦ä¸åŠ¨ä½œçš„ç»“åˆä½“ã€‚',
                strengths: ['é¡ºé£å±€èƒ½ç”¨ç»†è…»æ„ŸçŸ¥ç»™å›¢é˜Ÿå¸¦æ¥çµæ„Ÿä¸æ¸©åº¦ã€‚', 'æ“…é•¿åœ¨å…³é”®ç¬é—´çˆ†å‘ï¼Œå‡­æ‰‹æ„Ÿç»ˆç»“æˆ˜æ–—ã€‚', 'ä¸è´ªåŠŸã€ä¸å¤ºæƒï¼Œè®©èƒœåˆ©æ›´æ˜¾çº¯ç²¹ã€‚'],
                weaknesses: ['é€†é£å±€ä¼šé€‰æ‹©æ²‰é»˜ï¼Œè®©äººä»¥ä¸ºä½ å·²æ”¾å¼ƒã€‚', 'ä¸çˆ±äº‰è¾©ï¼Œè‡ªå·±çš„æƒ³æ³•éš¾ä»¥è¢«å¬åˆ°ã€‚', 'è‹¥è¢«é€¼ç€æ‰§è¡Œè¿èƒŒå†…å¿ƒçš„è®¡åˆ’ï¼Œä¼šç›´æ¥é€€å‡ºã€‚']
            },
            ISFJ: {
                overview: 'ä½ æ˜¯å®ˆæŠ¤å‹ä¾ è€…ï¼ŒæŠŠè´£ä»»æ‰›åœ¨è‚©ä¸Šé»˜é»˜å®Œæˆã€‚',
                strengths: ['é¡ºé£å±€ä¸­ä¼šæŠŠæ¯ä¸ªç»†èŠ‚ç…§æ‹‚åˆ°ä½ï¼Œè®©å›¢é˜Ÿâ€œé›¶å¤±è¯¯â€ã€‚', 'å–„äºä¼ æ‰¿ç»éªŒï¼Œç¡®ä¿æˆæœå¾—ä»¥å»¶ç»­ã€‚', 'å¯é åº¦é«˜ï¼Œè®©äººæ”¾å¿ƒæŠŠåèƒŒäº¤ç»™ä½ ã€‚'],
                weaknesses: ['é€†é£å±€ä¸æ„¿ç»™ä»–äººæ·»éº»çƒ¦ï¼Œç‹¬è‡ªç¡¬æ’‘åˆ°é€æ”¯ã€‚', 'å¯¹å˜åŒ–æŠ—æ‹’ï¼Œéš¾ä»¥å¿«é€Ÿè°ƒæ•´ç­–ç•¥ã€‚', 'è¿‡åº¦ç…§é¡¾åˆ«äººè€Œå¿½è§†è‡ªèº«éœ€æ±‚ã€‚']
            },
            ISTP: {
                overview: 'ä½ ä»¥å†·é™åˆ†æè‘—ç§°ï¼Œæ˜¯å®æˆ˜æ´¾çš„â€œæŠ€å¸ˆâ€ã€‚',
                strengths: ['é¡ºé£å±€é‡Œç”¨æŠ€æœ¯é¢†å…ˆæŒç»­æ‰©å¤§ä¼˜åŠ¿ã€‚', 'æ“…é•¿æ‹†è§£å¯¹æ‰‹æ‹›å¼ï¼Œæ‰¾åˆ°æœ€æœ‰æ•ˆçš„åˆ¶è¡¡æ–¹å¼ã€‚', 'è¡ŒåŠ¨ä½è°ƒç²¾å‡†ï¼Œè®©èƒœåˆ©æ˜¾å¾—è½»å·§ã€‚'],
                weaknesses: ['é€†é£å±€ä¼šé€‰æ‹©â€œå±€å¤–äººâ€è§†è§’ï¼Œåƒæ—è§‚è€…ä¸€æ ·å†·çœ¼çœ‹å¾…ã€‚', 'ä¸æ„¿è¢«æŸç¼šï¼Œé‡åˆ°æ§åˆ¶å‹é˜Ÿå‹å®¹æ˜“ç›´æ¥è„±é˜Ÿã€‚', 'æ²Ÿé€šç®€çŸ­ï¼Œè¢«è¯¯è§£ä¸ºå†·æ¼ ã€‚']
            },
            ISTJ: {
                overview: 'ä½ åšå®ˆåŸåˆ™ã€ä¸¥è°¨åŠ¡å®ï¼Œæ˜¯ç§©åºçš„åŒ–èº«ã€‚',
                strengths: ['é¡ºé£å±€é‡Œèƒ½ç¡®ä¿æˆæœè½åœ°ï¼Œé¿å…éª„å…µä¹‹å¤±ã€‚', 'æ“…é•¿å¤ç›˜ä¸æ€»ç»“ï¼Œè®©èƒœåˆ©ç»éªŒæ²‰æ·€ã€‚', 'ç¨³é‡è¸å®ï¼Œè®©å›¢é˜Ÿå¿ƒæ€å®‰å®šã€‚'],
                weaknesses: ['é€†é£å±€å¯èƒ½é¡½å›ºå®ˆæ—§ï¼Œæ‹’ç»å†’é™©å¯¼è‡´è¢«åŠ¨ã€‚', 'å‹åŠ›å¤§æ—¶ä¼šè½¬å‘æ‰¹è¯„ç»†èŠ‚ï¼Œå¿½è§†å…¨å±€ã€‚', 'å¯¹æ¨¡ç³Šä¿¡æ¯ç„¦è™‘ï¼Œå®¹æ˜“å› ä¸ç¡®å®šæ„Ÿè€Œåœæ‘†ã€‚']
            }
        };

        // --- 16 é“é¢˜ç›® ---
        const questions = [
            // E/I ç»´åº¦ (èƒ½é‡æ¥æº)
            { id: 1, text: "å¤œå®´ä¸Šï¼Œæ±Ÿæ¹–ç¾¤é›„æ±‡é›†ï¼Œä½ ä¼šï¼š", moves: ["ä¸»åŠ¨æ•¬é…’", "è§’è½è§‚å¯Ÿ"], lores: ["æ´ªä¸ƒå…¬å¤§å£å–é…’ï¼Œä¸äººç§°å…„é“å¼Ÿï¼Œçƒ­é—¹éå‡¡ã€‚", "é»„è¯å¸ˆéšäºåƒ»é™ä¹‹å¤„ï¼Œå†·çœ¼æ—è§‚ï¼Œä¸å±‘æ­ç†ã€‚"], icons: ["ğŸ»", "ğŸ‘ï¸"], options: [{ axis: 'E', val: 1 }, { axis: 'E', val: -1 }] },
            { id: 2, text: "é—­å…³ä¿®ä¹ ä¸ƒæ—¥åï¼Œä½ æœ€æ¸´æœ›ï¼š", moves: ["çº¦æˆ˜è®ºæ­¦", "ç»§ç»­é’»ç ”"], lores: ["æ¨è¿‡å‡ºå¤å¢“ï¼Œç«‹åˆ»çº¦é‡‘è½®æ³•ç‹ï¼Œæ¸´æœ›å®æˆ˜æ£€éªŒã€‚", "å‘¨ä¼¯é€šç»ƒæˆç©ºæ˜æ‹³ï¼Œåªä¸è‡ªå·±å·¦å³æ‰‹äº’æï¼Œä¹åœ¨å…¶ä¸­ã€‚"], icons: ["âš”ï¸", "ğŸ’¡"], options: [{ axis: 'E', val: 1 }, { axis: 'E', val: -1 }] },
            { id: 3, text: "è¡Œä¾ ä»—ä¹‰æ—¶ï¼Œé‡åˆ°å›´è§‚ç¾¤ä¼—ï¼š", moves: ["æŒ¥æ‰‹è‡´æ„", "æ‚„ç„¶ç¦»å»"], lores: ["ä¹”å³°è±ªæ°”å¹²äº‘ï¼Œå—ä¼—äººæ•¬ä»°ï¼Œä»ä¸é¿è®³åå£°ã€‚", "å°é¾™å¥³è¡Œäº‹ä½è°ƒï¼Œä¸æ„¿ä¸å°˜ä¸–å¤šæœ‰ç‰µæ‰¯ã€‚"], icons: ["ğŸ‘‹", "ğŸ’¨"], options: [{ axis: 'E', val: 1 }, { axis: 'E', val: -1 }] },
            { id: 4, text: "æ±Ÿæ¹–ä¼ é—»ä½ èº«æ€€ç»ä¸–ç§˜ç±ï¼Œä½ ä¼šï¼š", moves: ["ä¸»åŠ¨è¾Ÿè°£", "ç½®è‹¥ç½”é—»"], lores: ["å²³ä¸ç¾¤æåŠ›ç»´æŠ¤è‡ªå·±çš„å›å­å½¢è±¡ï¼Œè¾Ÿè°£å·¦é“ä¹‹è¯´ã€‚", "ä»¤ç‹å†²å¯¹è™šåä»ä¸åœ¨ä¹ï¼Œä»»ç”±æ±Ÿæ¹–ä¼ è¨€ã€‚"], icons: ["ğŸ“¢", "ğŸ‘‚"], options: [{ axis: 'E', val: 1 }, { axis: 'E', val: -1 }] },

            // S/N ç»´åº¦ (ä¿¡æ¯æ¥æ”¶)
            { id: 5, text: "ä½ å¾—åˆ°ä¸€å¼ è—å®å›¾ï¼Œä½ ä¼šï¼š", moves: ["ç²¾ç¡®æµ‹é‡", "ç›´è§‰æ¢ç´¢"], lores: ["éƒ­é–æŒ‰å›¾ç´¢éª¥ï¼Œä¸¥æ ¼éµå¾ªå¸ˆçˆ¶çš„æ•™è¯²ï¼Œæ­¥æ­¥ä¸ºè¥ã€‚", "é»„è“‰ä¸€çœ¼çœ‹å‡ºåœ°å›¾ä¸­çš„ç„æœºï¼Œå‡­ç›´è§‰åˆ¤æ–­å®ç‰©ä½ç½®ã€‚"], icons: ["ğŸ“", "ğŸ”®"], options: [{ axis: 'S', val: 1 }, { axis: 'S', val: -1 }] },
            { id: 6, text: "é¢å¯¹ä¸€é—¨å¤±ä¼ å·²ä¹…çš„æ­¦åŠŸç§˜ç±ï¼š", moves: ["å…ˆç»ƒæ‹›å¼", "é¢†æ‚Ÿå¿ƒæ³•"], lores: ["ç­ç»å¸ˆå¤ªè‹¦ç»ƒå³¨çœ‰å‰‘æ‹›ï¼Œæ‹›å¼ç²¾å¦™ï¼Œä¸å®¹æœ‰å¤±ã€‚", "æ®µèª‰è·³è¿‡æ‹›å¼ï¼Œç›´æ¥é¢†æ‚Ÿå…­è„‰ç¥å‰‘çš„å†…åŠ›å¿ƒæ³•ã€‚"], icons: ["ğŸ‘Š", "ğŸ§ "], options: [{ axis: 'S', val: 1 }, { axis: 'S', val: -1 }] },
            { id: 7, text: "åˆåˆ°ä¸€å®¶é»‘åº—ï¼Œä½ å…³æ³¨çš„é‡ç‚¹æ˜¯ï¼š", moves: ["èœè‚´å‘³é“", "éšè—æš—å·"], lores: ["æ´ªä¸ƒå…¬åªå…³æ³¨ç¾é£Ÿæ˜¯å¦åœ°é“ï¼Œåƒå¾—å¼€å¿ƒæœ€é‡è¦ã€‚", "èµµæ•è§‚å¯Ÿåº—å†…çš„æ¡Œæ¤…æ‘†è®¾å’Œä¼™è®¡çš„çœ¼ç¥ï¼Œå¯»æ‰¾ç ´ç»½ã€‚"], icons: ["ğŸœ", "ğŸ”"], options: [{ axis: 'S', val: 1 }, { axis: 'S', val: -1 }] },
            { id: 8, text: "ä½ è¢«å›°äºè¿·é˜µä¸­ï¼Œä½ ä¼šï¼š", moves: ["æ‰¾å‡ºå‡ºå£", "è§‚å¯Ÿé˜µçœ¼"], lores: ["è™šç«¹è€è€å®å®åœ°æ‘¸ç´¢ï¼Œæœ€ç»ˆæ„å¤–åœ°æ‰¾åˆ°ç”Ÿé—¨ã€‚", "é»„è¯å¸ˆå‡­å€Ÿå¥‡é—¨éç”²çš„çŸ¥è¯†ï¼Œæ¨æ¼”é˜µæ³•çš„æ ¸å¿ƒåŸç†ã€‚"], icons: ["ğŸ§±", "ğŸŒ€"], options: [{ axis: 'S', val: 1 }, { axis: 'S', val: -1 }] },

            // T/F ç»´åº¦ (å†³ç­–åˆ¶å®š)
            { id: 9, text: "ä½ æ”¶åˆ°ä¸€å°æ±‚æ•‘ä¿¡ï¼Œä½†å…¶ä¸­æœ‰è¯ˆï¼Œä½ ä¼šï¼š", moves: ["æ•‘äººç¬¬ä¸€", "å†·é™åˆ†æ"], lores: ["å¼ æ— å¿Œå³ä¾¿çŸ¥æœ‰å±é™©ï¼Œä¹Ÿå› å¿ƒè½¯è€Œå‰å¾€æ•‘æ´ã€‚", "å‘¨èŠ·è‹¥ä»”ç»†æƒè¡¡åˆ©å¼Šï¼Œä¼˜å…ˆè€ƒè™‘å³¨çœ‰æ´¾çš„å®‰å±ã€‚"], icons: ["ğŸ’–", "ğŸ¥¶"], options: [{ axis: 'T', val: -1 }, { axis: 'T', val: 1 }] },
            { id: 10, text: "ä½ çš„å¾’å¼ŸçŠ¯äº†å¤§é”™ï¼Œä½ ä¼šï¼š", moves: ["åŠ¨ä¹‹ä»¥æƒ…", "ä¸¥æƒ©ä¸è´·"], lores: ["å®ä¸­åˆ™æ€œæƒœä»¤ç‹å†²ï¼Œå¸¸ä»¥æ¯äº²çš„èº«ä»½åŠå¯¼ã€‚", "æè«æ„å‘ç°å¾’å¼Ÿä¸å¬è¯ï¼Œä¼šæ¯«ä¸ç•™æƒ…åœ°æƒ©ç½šã€‚"], icons: ["ğŸ˜­", "ğŸ”¨"], options: [{ axis: 'T', val: -1 }, { axis: 'T', val: 1 }] },
            { id: 11, text: "å¤„ç†é—¨æ´¾äº‹åŠ¡æ—¶ï¼Œä½ æ›´ä¾èµ–ï¼š", moves: ["é›†ä½“æ„è§", "ä¸ªäººåˆ¤æ–­"], lores: ["åŒå„¿åœ¨éŸ¦å°å®èº«è¾¹ï¼Œæ€»æ˜¯æ”¯æŒä»–çš„å†³å®šï¼Œä»¥æƒ…ä¸ºé‡ã€‚", "é‡‘è½®æ³•ç‹åªç›¸ä¿¡è‡ªå·±çš„æˆ˜ç•¥åˆ¤æ–­ï¼Œä¸é¡¾å±ä¸‹æ„è§ã€‚"], icons: ["ğŸ¤", "â˜ï¸"], options: [{ axis: 'T', val: -1 }, { axis: 'T', val: 1 }] },
            { id: 12, text: "æœ‰äººå¯¹ä½ ä½¿ç”¨å¥¸è®¡ï¼Œä½ ä¼šï¼š", moves: ["åŸè°…å¯¹æ–¹", "åŠ å€å¥‰è¿˜"], lores: ["é˜¿æœ±ç›¸ä¿¡ä¹”å³°çš„æ¸…ç™½ï¼Œç”¨è‡ªå·±çš„æ­»æ¥åŒ–è§£ä»‡æ¨ã€‚", "é˜¿ç´«å¯¹å§å¤«ä»¥å¤–çš„äººå……æ»¡æ¶æ„ï¼Œä»¥æŠ¥å¤ä¸ºä¹ã€‚"], icons: ["ğŸ•Šï¸", "ğŸ˜ˆ"], options: [{ axis: 'T', val: -1 }, { axis: 'T', val: 1 }] },

            // J/P ç»´åº¦ (ç”Ÿæ´»æ€åº¦)
            { id: 13, text: "ä½ è®¡åˆ’å»ä¸€è¶Ÿè¿œè¡Œï¼Œä½ ä¼šï¼š", moves: ["åˆ¶å®šè¯¦ç»†è·¯çº¿", "è¯´èµ°å°±èµ°"], lores: ["å·¦å†·ç¦…ä¸ºäº†äº”å²³å¹¶æ´¾ï¼Œåˆ¶å®šäº†å‘¨å¯†çš„è®¡åˆ’å’Œæ—¶é—´è¡¨ã€‚", "æ¨è¿‡è¡Œèµ°æ±Ÿæ¹–ï¼Œéšå¿ƒæ‰€æ¬²ï¼Œæ²¡æœ‰å›ºå®šçš„ç›®æ ‡ã€‚"], icons: ["ğŸ—ºï¸", "ğŸš€"], options: [{ axis: 'J', val: 1 }, { axis: 'J', val: -1 }] },
            { id: 14, text: "ä½ åœ¨å®¢æ ˆå‘ç°ä¸€æœ¬æœªå®Œæˆçš„ç§˜ç±ï¼Œä½ ä¼šï¼š", moves: ["è¡¥å…¨ç§˜ç±", "æ”¾ä¸‹ä¸ç®¡"], lores: ["ç­ç»å¸ˆå¤ªä¼šå¯¹å³¨çœ‰æ´¾çš„æ­¦å­¦ä½“ç³»è¿›è¡Œæ•´ç†å’Œè§„èŒƒåŒ–ã€‚", "ç”°ä¼¯å…‰åªä¼šéšæ€§ç»ƒä¹ èƒ½ç«‹å³è§æ•ˆçš„æ‹›å¼ã€‚"], icons: ["âœï¸", "ğŸ¤·"], options: [{ axis: 'J', val: 1 }, { axis: 'J', val: -1 }] },
            { id: 15, text: "ä½ çš„å¯¹æ‰‹è¦æ±‚ä½ æ¯”æ­¦å®šè¾“èµ¢ï¼Œä½ ä¼šï¼š", moves: ["ç«‹åˆ»åº”æˆ˜", "æ‹–å»¶æ—¶é—´"], lores: ["è§å³°ä»ä¸æ‹–æ³¥å¸¦æ°´ï¼Œæœ‰ä»‡å½“åœºæŠ¥ï¼Œæœ‰æ¶å½“åœºæ‰“ã€‚", "èµµæ•ä¸ºäº†äº‰å–æ—¶é—´å¸ƒç½®é™·é˜±ï¼Œä¼šè®¾æ³•æ‹–å»¶æ¯”æ­¦ã€‚"], icons: ["ğŸ›ï¸", "â³"], options: [{ axis: 'J', val: -1 }, { axis: 'J', val: 1 }] },
            { id: 16, text: "å¤„ç†å¤æ‚é—®é¢˜åï¼Œä½ é€šå¸¸ä¼šï¼š", moves: ["å½’æ¡£æ€»ç»“", "ç«‹å³æ”¾æ¾"], lores: ["é»„è¯å¸ˆä¼šå°†æ–°çš„ç ”ç©¶æˆæœè®°å½•åœ¨æ¡ƒèŠ±å²›çš„å…¸ç±ä¸­ã€‚", "éŸ¦å°å®ä¼šç«‹åˆ»å»èµŒé’±å–é…’ï¼Œäº«å—èƒœåˆ©æœå®ã€‚"], icons: ["ğŸ—„ï¸", "ğŸ¾"], options: [{ axis: 'J', val: 1 }, { axis: 'J', val: -1 }] }
        ];

        const ParticleBurst = ({ x, y, icon }) => {
            const particles = Array.from({ length: 8 });
            return (
                <div className="fixed pointer-events-none z-50" style={{ left: x, top: y }}>
                    {particles.map((_, i) => (
                        <motion.div key={i} className="absolute text-2xl" initial={{ x: 0, y: 0, opacity: 1, scale: 0.5, rotate: 0 }} animate={{ x: (Math.random() - 0.5) * 150, y: (Math.random() - 0.5) * 150, opacity: 0, scale: 1.5, rotate: Math.random() * 360 }} transition={{ duration: 0.8, ease: "easeOut" }}>{icon}</motion.div>
                    ))}
                </div>
            );
        };

        const App = () => {
            const [step, setStep] = useState('intro');
            const [gender, setGender] = useState(null);
            const [qIndex, setQIndex] = useState(0);
            const [scores, setScores] = useState({ E: 0, S: 0, T: 0, J: 0 });
            const [result, setResult] = useState(null);
            const [burst, setBurst] = useState(null);
            const [hoverOption, setHoverOption] = useState(null);
            const [reportUnlocked, setReportUnlocked] = useState(false);
            const [passwordInput, setPasswordInput] = useState('');
            const [unlockError, setUnlockError] = useState('');

            useEffect(() => {
                const container = document.getElementById('petals-container');
                for (let i = 0; i < 20; i++) {
                    const petal = document.createElement('div');
                    petal.className = 'petal';
                    petal.style.setProperty('--start-x', `${Math.random() * 100}vw`);
                    petal.style.setProperty('--end-x', `${Math.random() * 100 + 20}vw`);
                    petal.style.setProperty('--fall-duration', `${Math.random() * 10 + 8}s`);
                    petal.style.animationDelay = `${Math.random() * 5}s`;
                    container.appendChild(petal);
                }
                const handleMouseMove = (e) => {
                    const moveX = (e.clientX / window.innerWidth - 0.5) * 50;
                    document.body.style.setProperty('--wind-x', `${moveX}px`);
                };
                window.addEventListener('mousemove', handleMouseMove);
                return () => window.removeEventListener('mousemove', handleMouseMove);
            }, []);

            const playSound = (type) => {
                try { SoundEngine.play(type); } catch(e) { console.log('Audio block'); }
            };

            const handleStart = () => {
                playSound('sword');
                SoundEngine.init(); 
                setStep('gender');
            };

            const handleAnswer = (e, axis, val, icon) => {
                playSound('tap');
                setBurst({ x: e.clientX, y: e.clientY, icon: icon });
                setTimeout(() => setBurst(null), 800);
                setScores(prev => ({ ...prev, [axis]: prev[axis] + val }));
                if (qIndex < questions.length - 1) {
                    setTimeout(() => setQIndex(prev => prev + 1), 300);
                } else {
                    calculateResult();
                }
            };

            const calculateResult = () => {
                setStep('calculating');
                setTimeout(() => {
                    playSound('gong');
                    const mbti = [scores.E >= 0 ? 'E' : 'I', scores.S >= 0 ? 'S' : 'N', scores.T >= 0 ? 'T' : 'F', scores.J >= 0 ? 'J' : 'P'].join('');
                    
                    const charData = characterDatabase[gender][mbti];
                    
                    const matchKey = charData.matchKey;
                    const cpData = cpDatabase[matchKey] || {};

                    setResult({ ...charData, cpData: cpData });
                    setStep('result');
                }, 1800);
            };

            const handleViewReport = () => {
                playSound('tap');
                setReportUnlocked(false);
                setPasswordInput('');
                setUnlockError('');
                setStep('report');
            };

            const handleUnlock = () => {
                playSound('sword');
                if (passwordInput.trim() === REPORT_PASSWORD) {
                    playSound('gong');
                    setReportUnlocked(true);
                    setUnlockError('');
                } else {
                    setUnlockError('å£ä»¤æœ‰è¯¯ï¼Œæ±Ÿæ¹–å¯†å·æš‚ä¸å¯é˜…ã€‚');
                }
            };

            const progressIcons = ['ğŸ—¡ï¸', 'ğŸ¶', 'ğŸ“œ', 'ğŸª­', 'â˜¯ï¸', 'ğŸŒ¿', 'ğŸ¦', 'ğŸ‘‘', 'ğŸ§Š', 'ğŸ¶', 'ğŸ¦‹', 'ğŸ¹', 'ğŸ²', 'ğŸ™', 'ğŸ“š', 'ğŸ’”'];
            const pageVariants = { initial: { opacity: 0, y: 10 }, in: { opacity: 1, y: 0, transition: { duration: 0.4 } }, out: { opacity: 0, y: -10, transition: { duration: 0.3 } } };

            return (
                <>
                    {burst && <ParticleBurst x={burst.x} y={burst.y} icon={burst.icon} />}
                    <AnimatePresence mode='wait'>
                        {step === 'intro' && (
                            <motion.div key="intro" variants={pageVariants} initial="initial" animate="in" exit="out" className="text-center relative px-4">
                                <div className="mb-8"><span className="px-4 py-1.5 rounded-full border border-bright-gold/40 bg-white/60 text-yellow-800 text-xs tracking-[0.3em] font-bold shadow-sm">WUXIA IDENTITY</span></div>
                                <h1 className="text-5xl md:text-7xl font-wuxia text-transparent bg-clip-text bg-gradient-to-b from-yellow-700 via-bright-gold to-yellow-600 drop-shadow-sm leading-tight py-2">å¿«æ„æ±Ÿæ¹–<br/>äººæ ¼æµ‹è¯•</h1>
                                <p className="text-slate-600 text-lg mt-8 font-medium tracking-widest">ä¸€å£¶æµŠé…’å–œç›¸é€¢ã€‚<br/>æµ‹æµ‹ä½ åœ¨é‡‘åº¸ç¬”ä¸‹æ˜¯è°ï¼Ÿ</p>
                                <motion.button onClick={handleStart} whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }} className="mt-12 px-16 py-4 bg-gradient-to-r from-bright-gold to-amber-500 rounded-full text-amber-950 font-bold text-xl shadow-lg shadow-bright-gold/30 relative overflow-hidden group transition-all">
                                    <span className="relative z-10 flex items-center gap-2"><span className="text-2xl">ğŸŒ¸</span> è¸èŠ±å…¥å±€</span>
                                    <div className="absolute inset-0 bg-white/40 mix-blend-overlay opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                </motion.button>
                            </motion.div>
                        )}
                        {step === 'gender' && (
                            <motion.div key="gender" variants={pageVariants} initial="initial" animate="in" exit="out" className="glass-panel-light p-8 md:p-10 rounded-[2rem] w-full">
                                <h2 className="text-2xl md:text-3xl font-wuxia text-center text-yellow-800 mb-8">é˜ä¸‹è¡Œèµ°æ±Ÿæ¹–çš„èº«ä»½ï¼Ÿ</h2>
                                <div className="flex gap-4 md:gap-6 justify-center">
                                    {[{id:'M',icon:'ğŸ—¡ï¸',label:'å°‘ä¾ '},{id:'F',icon:'ğŸª­',label:'å¥³ä¾ '}].map(item => (
                                        <motion.button key={item.id} onClick={(e) => { playSound('tap'); setBurst({ x: e.clientX, y: e.clientY, icon: 'ğŸŒ¸' }); setGender(item.id); setStep('quiz'); }} whileHover={{ y: -5 }} className="btn-wuxia-light flex-1 p-6 md:p-8 rounded-2xl flex flex-col items-center gap-4 group">
                                            <div className="text-4xl md:text-5xl group-hover:scale-110 transition-transform">{item.icon}</div>
                                            <div className="text-lg md:text-xl font-bold text-ink-text">{item.label}</div>
                                        </motion.button>
                                    ))}
                                </div>
                            </motion.div>
                        )}
                        {step === 'quiz' && (
                            <motion.div key="quiz" variants={pageVariants} initial="initial" animate="in" exit="out" className="w-full">
                                <div className="w-full h-2 bg-white/60 rounded-full mb-8 relative">
                                    <motion.div className="h-full bg-bright-gold rounded-full relative" initial={{ width: 0 }} animate={{ width: `${((qIndex + 1) / questions.length) * 100}%` }} transition={{ duration: 0.5 }}>
                                        <motion.div key={qIndex} initial={{ scale: 0 }} animate={{ scale: 1 }} className="absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2 text-2xl filter drop-shadow-md">{progressIcons[qIndex]}</motion.div>
                                    </motion.div>
                                </div>
                                <div className="glass-panel-light p-6 md:p-12 rounded-[2rem] relative min-h-[450px] flex flex-col justify-center">
                                    <div className="text-center mb-6 md:mb-10">
                                        <span className="text-yellow-600/60 text-sm font-bold tracking-widest block mb-2">ç¬¬ {qIndex + 1} / {questions.length} å›</span>
                                        <h3 className="text-xl md:text-3xl font-bold text-ink-text font-wuxia leading-relaxed">{questions[qIndex].text}</h3>
                                    </div>
                                    <div className="flex flex-col md:flex-row gap-4 md:gap-5 items-stretch justify-center quiz-option-grid">
                                        {questions[qIndex].options.map((opt, i) => (
                                            <motion.div key={i} 
                                                 onMouseEnter={() => setHoverOption(i)} onMouseLeave={() => setHoverOption(null)}
                                                 onClick={(e) => handleAnswer(e, opt.axis, opt.val, questions[qIndex].icons[i])}
                                                 className="btn-wuxia-light flex-1 p-4 md:p-6 rounded-2xl cursor-pointer flex items-center gap-4 text-lg group relative min-h-[100px] md:min-h-auto">
                                                
                                                <div className="writing-vertical-rl text-lg md:text-xl font-wuxia text-yellow-600 border-l-2 border-yellow-600/20 pl-2 h-full flex items-center flex-shrink-0">{questions[qIndex].moves[i]}</div>
                                                <div className="flex-1 font-bold text-slate-700 group-hover:text-yellow-800 transition-colors text-left text-base md:text-lg line-clamp-2">{questions[qIndex].moves[i]}</div>

                                                <AnimatePresence>
                                                    {hoverOption === i && (
                                                        <motion.div initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -10 }} 
                                                            className="absolute top-[115%] left-1/2 -translate-x-1/2 w-60 md:w-64 bg-ink-text text-rice-paper text-sm p-3 rounded-xl pointer-events-none z-30 shadow-2xl text-center border border-bright-gold/30 tooltip-floating"
                                                        >
                                                            <div className="text-bright-gold text-xs mb-1 font-bold tracking-widest">ã€æ±Ÿæ¹–å…¸æ•…ã€‘</div>
                                                            <p className="leading-relaxed opacity-90">{questions[qIndex].lores[i]}</p>
                                                            <div className="absolute bottom-full left-1/2 -translate-x-1/2 border-8 border-transparent border-b-ink-text"></div>
                                                        </motion.div>
                                                    )}
                                                </AnimatePresence>

                                                <div className="text-3xl md:text-4xl opacity-20 group-hover:opacity-40 transition-opacity group-hover:rotate-12 transform">{questions[qIndex].icons[i]}</div>
                                            </motion.div>
                                        ))}
                                    </div>
                                </div>
                            </motion.div>
                        )}
                        {step === 'calculating' && (
                            <motion.div key="calc" className="text-center py-20" initial={{opacity:0}} animate={{opacity:1}}>
                                <div className="text-6xl animate-bounce mb-6">ğŸ§˜</div>
                                <h2 className="text-3xl font-wuxia text-yellow-800">æ­£åœ¨æ‰“é€šä»»ç£äºŒè„‰...</h2>
                            </motion.div>
                        )}
                        {step === 'result' && result && (
                            <motion.div key="result" initial={{ opacity: 0, scaleY: 0.9 }} animate={{ opacity: 1, scaleY: 1 }} className="w-full">
                                <div className={`glass-panel-light rounded-[2rem] overflow-hidden bg-gradient-to-br ${result.gradient}`}>
                                    <div className="p-6 md:p-12 text-center relative z-10">
                                        <div className="flex justify-between items-start mb-6 md:mb-8">
                                            <div className="flex flex-col items-start">
                                                <span className="text-3xl font-black text-yellow-800/10 absolute -top-2 -left-2 font-sans tracking-tighter">{result.mbti}</span>
                                                <span className="relative mt-4 px-3 py-1 bg-white/60 rounded-full text-xs font-bold text-yellow-900 border border-yellow-900/10 shadow-sm">{result.mbti} | {result.title}</span>
                                            </div>
                                            <div className="flex flex-col items-end">
                                                <div className="w-10 h-10 md:w-12 md:h-12 text-yellow-700/80 mb-1"><SectBadge type={result.sectType} /></div>
                                                <span className="text-xs font-wuxia text-yellow-800">{result.sectName}</span>
                                            </div>
                                        </div>
                                        <h1 className="text-5xl md:text-6xl font-wuxia text-gradient-wuxia mb-3">{result.name}</h1>
                                        <p className="text-base md:text-lg font-serif italic text-yellow-800/70 mb-6">â€œ{result.quote}â€</p>
                                        <div className="text-7xl md:text-8xl my-4 filter drop-shadow-md animate-[pulse_3s_ease-in-out_infinite]">{result.icon}</div>
                                        <p className="text-base md:text-lg leading-loose text-slate-700 text-justify bg-white/60 p-4 md:p-6 rounded-2xl border border-bright-gold/20 shadow-sm mb-8">{result.desc}</p>
                                        
                                        
                                        {/* ç¾ç»Šå¡ç‰‡ */}
                                        <div className={`rounded-xl p-5 text-left border-l-4 relative overflow-hidden bg-gray-50 border-gray-200`}>
                                            <div className="absolute right-2 top-2 opacity-10 text-6xl pointer-events-none">ğŸ’</div>
                                            <div className="text-xs font-bold uppercase tracking-widest text-slate-500 mb-2">å‘½å®šç¾ç»Š</div>
                                            <div className="flex items-baseline gap-2 mb-2">
                                                <h3 className="text-2xl font-wuxia text-ink-text">{result.cpData.name}</h3>
                                                <span className="text-sm text-slate-500">{result.cpData.title}</span>
                                            </div>
                                            <p className="text-sm italic text-yellow-800/80 mb-3">â€œ{result.cpData.quote}â€</p>
                                            <p className="text-sm text-slate-700 leading-relaxed">{result.cpData.desc}</p>
                                        </div>

                                    </div>
                                </div>
                                <div className="flex flex-col gap-3 mt-6">
                                    <button onClick={handleViewReport} className="w-full py-4 bg-white/70 border border-bright-gold/40 rounded-2xl text-yellow-800 font-bold tracking-[0.3em] text-sm shadow-sm hover:bg-white transition">
                                        æ€§æ ¼åˆ†ææŠ¥å‘Š
                                    </button>
                                    <button onClick={() => { playSound('sword'); window.location.reload(); }} className="w-full py-4 text-slate-500 hover:text-yellow-700 font-bold tracking-[0.3em] text-sm transition-colors flex items-center justify-center gap-2 group">
                                    <span className="text-xl transform origin-top tassel-swing">ğŸ§§</span><span>é‡å…¥æ±Ÿæ¹–</span>
                                    </button>
                                </div>
                            </motion.div>
                        )}
                        {step === 'report' && result && (
                            <motion.div key="report" variants={pageVariants} initial="initial" animate="in" exit="out" className="glass-panel-light p-6 md:p-10 rounded-[2rem] w-full space-y-8">
                                <div className="text-center">
                                    <span className="text-xs tracking-[0.5em] text-yellow-600/70 font-bold">WUXIA INSIGHT</span>
                                    <h2 className="text-4xl font-wuxia text-gradient-wuxia mt-3 mb-2">æ€§æ ¼å¯†å·</h2>
                                    <p className="text-slate-600 text-sm">åŸºäº {result.mbti} Â· {result.name} çš„æ­¦ä¾ å¿ƒæ€§æ¨æ¼”</p>
                                </div>
                                {(() => {
                                    const analysis = analysisDatabase[result.mbti] || {};
                                    const strengths = analysis.strengths || [];
                                    const weaknesses = analysis.weaknesses || [];
                                    const visibleStrengths = reportUnlocked ? strengths : strengths.slice(0, 1);
                                    const visibleWeaknesses = reportUnlocked ? weaknesses : weaknesses.slice(0, 1);
                                    return (
                                        <>
                                            <div className="bg-white/80 p-5 rounded-2xl border border-bright-gold/30 shadow-inner">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <span className="text-2xl">ğŸ“œ</span>
                                                    <h3 className="text-lg font-bold text-ink-text">æ±Ÿæ¹–æ¦‚è§ˆ</h3>
                                                </div>
                                                <p className="text-slate-700 leading-relaxed">{analysis.overview || 'æš‚æ— å¯†å·ï¼Œè¯·ç¨åå†è¯•ã€‚'}</p>
                                            </div>
                                            <div className="grid md:grid-cols-2 gap-4">
                                                <div className="bg-emerald-50/80 border border-emerald-200 rounded-2xl p-5">
                                                    <div className="flex items-center gap-2 mb-3">
                                                        <span className="text-2xl">ğŸŒ¤ï¸</span>
                                                        <h4 className="font-bold text-emerald-900">é¡ºé£å±€Â·ä¼˜åŠ¿</h4>
                                                    </div>
                                                    <ul className="space-y-3 text-sm text-emerald-900 leading-relaxed">
                                                        {visibleStrengths.map((txt, idx) => <li key={idx} className="flex gap-2"><span>â€¢</span><span>{txt}</span></li>)}
                                                        {!reportUnlocked && strengths.length > 1 && (
                                                            <li className="text-emerald-600/80 text-xs italic">å…¶ä½™ {strengths.length - 1} æ¡ä¼˜åŠ¿å·²è¢«é”å®šï¼Œéœ€å£ä»¤æ–¹å¯å¼€å¯ã€‚</li>
                                                        )}
                                                    </ul>
                                                </div>
                                                <div className="bg-rose-50/80 border border-rose-200 rounded-2xl p-5">
                                                    <div className="flex items-center gap-2 mb-3">
                                                        <span className="text-2xl">ğŸŒªï¸</span>
                                                        <h4 className="font-bold text-rose-900">é€†é£å±€Â·éšæ‚£</h4>
                                                    </div>
                                                    <ul className="space-y-3 text-sm text-rose-900 leading-relaxed">
                                                        {visibleWeaknesses.map((txt, idx) => <li key={idx} className="flex gap-2"><span>â€¢</span><span>{txt}</span></li>)}
                                                        {!reportUnlocked && weaknesses.length > 1 && (
                                                            <li className="text-rose-600/80 text-xs italic">å…¶ä½™ {weaknesses.length - 1} æ¡éšæ‚£æš‚å°ï¼Œå¾…å¯†ä»¤å¼€å¯ã€‚</li>
                                                        )}
                                                    </ul>
                                                </div>
                                            </div>
                                            <div className="bg-slate-900/90 text-rice-paper p-5 rounded-2xl border border-bright-gold/30 relative overflow-hidden">
                                                <div className="absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.3),_transparent_60%)] pointer-events-none"></div>
                                                <div className="flex flex-col gap-3 relative z-10">
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-xl">ğŸ”</span>
                                                        <span className="text-sm tracking-[0.4em]">å¯† ä»¤ åŒº åŸŸ</span>
                                                    </div>
                                                    <p className="text-sm text-slate-200">è¾“å…¥æ±Ÿæ¹–æš—å·å¯è§£é”å®Œæ•´ç‰ˆç­–ç•¥ï¼Œè¯†åˆ«å‰©ä½™çš„é¡ºé€†èµ°åŠ¿èŠ‚ç‚¹ã€‚</p>
                                                    <div className="flex flex-col md:flex-row gap-3">
                                                        <input value={passwordInput} onChange={(e) => setPasswordInput(e.target.value)} placeholder="è¯·è¾“å…¥æ±Ÿæ¹–æš—å·" className="flex-1 rounded-xl bg-white/10 border border-white/30 px-4 py-2 text-white placeholder:text-slate-400 focus:outline-none focus:border-bright-gold/60" />
                                                        <button onClick={handleUnlock} className="px-6 py-2 rounded-xl bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 text-white font-bold shadow-lg shadow-emerald-700/40 border border-white/20">è§£é”</button>
                                                    </div>
                                                    {!reportUnlocked && (
                                                        <p className="text-xs text-slate-300 italic">æœªè§£é”æ—¶ä»…å±•ç¤ºéƒ¨åˆ†æ´å¯Ÿï¼Œå®Œæ•´ç¯‡ç« å…± {strengths.length + weaknesses.length} æ¡ã€‚</p>
                                                    )}
                                                    {unlockError && <p className="text-sm text-rose-300">{unlockError}</p>}
                                                    {reportUnlocked && <p className="text-sm text-emerald-300">å¯†ä»¤éªŒè¯æˆåŠŸï¼Œå…¨éƒ¨æ´å¯Ÿå·²æ˜¾ç°ã€‚</p>}
                                                </div>
                                            </div>
                                            <button onClick={() => { playSound('sword'); window.location.reload(); }} className="w-full py-4 text-slate-500 hover:text-yellow-700 font-bold tracking-[0.3em] text-sm transition-colors flex items-center justify-center gap-2 group">
                                                <span className="text-xl transform origin-top tassel-swing">ğŸ“–</span><span>é‡å¯æµ‹è¯•</span>
                                            </button>
                                        </>
                                    );
                                })()}
                            </motion.div>
                        )}
                    </AnimatePresence>
                </>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>